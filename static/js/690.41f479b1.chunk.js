"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[690],{90690:function(e,t,n){n.r(t),n.d(t,{DefaultDashboard:function(){return P},default:function(){return R}});var i=n(93433),s=n(29439),o=n(30168),r=n(72791),a=n(58361),l=n(80184),d=function(e){var t=e.title,n=e.value,i=e.Svg;return(0,l.jsxs)("div",{className:"flex justify-between items-center bg-gradient-to-br from-emind to-emind-300  rounded-2 p-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"mb-0 font-bold text-white",children:n}),(0,l.jsx)("h4",{className:"mb-0 text-white",children:t})]}),(0,l.jsx)("div",{children:(0,l.jsx)(i,{className:"h-16 w-16 fill-white"})})]})},c=n(1413),u=n(66871),h=n(13496),f=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],g={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[].concat(f),dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},x=(0,c.Z)({},g),v={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[].concat(f),dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(e)}}}},p=([].concat(f),n(86307)),m=n(6443),b={position:"absolute",zIndex:"1"},j={position:"absolute",zIndex:"1",right:"0",top:"-2px"},w=function(e){var t=e.title,n=e.series,i=e.width,s=e.height,o=e.xAxis,a=e.customOptions,d=e.card,f=e.type,w=e.extra,y=e.direction,Z=e.bodyClass,C=function(e){switch(e){case"line":default:return g;case"bar":return v;case"area":return x}}(f),N=window.innerWidth<768,S=function(){if(k.current){var e,t=k.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight="".concat(N?0:null===(e=z.current)||void 0===e?void 0:e.offsetWidth,"px"),y===m.hn&&(t.style.right="auto",t.style.left="0"),N&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,r.useEffect)((function(){S()}),[]);var z=(0,r.useRef)(null),k=(0,r.useRef)();C.xaxis.categories=o,a&&(C=(0,c.Z)((0,c.Z)({},C),a));var I=function(){return(0,l.jsx)(p.ZP,{onResize:void setTimeout((function(){S()}),600),children:(0,l.jsx)("div",{style:y===m.hn?{direction:"ltr"}:{},className:"chartRef",ref:k,children:(0,l.jsx)(h.Z,{options:C,type:f,series:n,width:i,height:s})})})};return(0,l.jsx)(l.Fragment,{children:d?(0,l.jsx)(u.Z,{children:(0,l.jsxs)("div",{className:"position-relative ".concat(Z),children:[(0,l.jsx)("div",{style:N?{}:b,children:t})&&(0,l.jsx)("h4",{className:"font-weight-bold",style:N?{}:b,children:t}),w&&(0,l.jsx)("div",{ref:z,style:N?{}:j,children:w}),I()]})}):I()})};w.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};var y,Z=w,C=n(64880),N=n(27570),S=n(96578),z=n(17734),k=n(82630),I=n(53719),A=(0,N.Ps)(y||(y=(0,o.Z)(["\n    query dashboard {\n        dashboard {\n            studentCount\n            teacherCount\n            parentCount\n            subjectCount\n            logins {\n                loginDate\n                loginCount\n            }\n        }\n    }\n"]))),P=function(){var e=(0,r.useState)([]),t=(0,s.Z)(e,2),n=t[0],o=t[1],c=(0,r.useState)([]),u=(0,s.Z)(c,2),h=u[0],f=u[1],g=(0,r.useState)([]),x=(0,s.Z)(g,2),v=x[0],p=x[1],m=(0,r.useContext)(I.S),b=(0,r.useState)(m.user),j=((0,s.Z)(b,1)[0],(0,S.a)(A,{onCompleted:function(e){o([{title:(0,l.jsx)(k.Z,{id:"student-registration"}),value:e.dashboard.studentCount,svg:z.mt,color:"#ff8a65"},{title:(0,l.jsx)(k.Z,{id:"teacher-registration"}),value:e.dashboard.teacherCount,svg:z.TO,color:"#f06292"},{title:(0,l.jsx)(k.Z,{id:"parent-registration"}),value:e.dashboard.parentCount,svg:z.g1,color:"#4db6ac"},{title:(0,l.jsx)(k.Z,{id:"subject-registration"}),value:e.dashboard.subjectCount,svg:z.Ek,color:"#9575cd"}]);var t=e.dashboard.logins.map((function(e){return p((function(t){return[].concat((0,i.Z)(t),[e.loginDate])})),e.loginCount}));f([{name:"\u041d\u044d\u0432\u0442\u044d\u0440\u0441\u044d\u043d \u0442\u043e\u043e",data:t}])}}).loading);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(a.Z,{loading:j,active:!0,rows:6,children:[(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-4 mb-4",children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,l.jsx)(d,{color:e.color,title:e.title,value:e.value,Svg:e.svg},t)}))}),(0,l.jsx)(Z,{title:(0,l.jsx)(k.Z,{id:"main.site_status"}),series:h,xAxis:v,className:"h-2/3"})]})})},R=(0,C.EN)(P)}}]);
//# sourceMappingURL=690.41f479b1.chunk.js.map