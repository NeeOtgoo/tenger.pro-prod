"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[5799],{41963:function(e,n,t){t.d(n,{Hi:function(){return b},Vm:function(){return g},WP:function(){return C},Z:function(){return I},ar:function(){return p},iX:function(){return S},nA:function(){return $},qv:function(){return k},rd:function(){return v}});var s,i,r,a,o,d,l,u,c,m,h,x,j,Z,f=t(30168),y=t(27570),p=(0,y.Ps)(s||(s=(0,f.Z)(["\n    query studentReport ($studentCode: String) {\n        studentReport (studentCode: $studentCode) {\n            school\n            textTop\n            textMid\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"]))),b=(0,y.Ps)(i||(i=(0,f.Z)(["\n    query studentReportSection ($section: Int) {\n        studentReportSection (section: $section) {\n            school\n            textTop\n            textMid\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"]))),v=((0,y.Ps)(r||(r=(0,f.Z)(["\n    query allSections {\n        allSections {\n            id\n            section\n        }\n    }\n"]))),(0,y.Ps)(a||(a=(0,f.Z)(["\n    query studentMarkReport ($studentCode: String) {\n        studentMarkReport (studentCode: $studentCode) {\n            school\n            textTop\n            textMid0\n            textMid1\n            textMid2\n            textMid3\n            textMid4\n            textMid5\n            textMid6\n            textMid7\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"])))),g=(0,y.Ps)(o||(o=(0,f.Z)(["\n    query studentMarkReportSection ($section: Int) {\n        studentMarkReportSection (section: $section) {\n            school\n            textTop\n            textMid0\n            textMid1\n            textMid2\n            textMid3\n            textMid4\n            textMid5\n            textMid6\n            textMid7\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"]))),C=(0,y.Ps)(d||(d=(0,f.Z)(["\n    query studentSchoolyear ($student: Int) {\n        studentSchoolyear (student: $student) {\n            id\n            schoolyear\n            season\n            semesterCode\n            startDate\n            endDate\n        }\n    }\n"]))),I=(0,y.Ps)(l||(l=(0,f.Z)(["\n    query studentMark ($student: Int, $schoolyear: Int, $part: String) {\n        studentMark (student: $student, schoolyear: $schoolyear, part: $part) {\n            id\n            markBoard {\n                subject {\n                    subject \n                    subjectCode\n                    credit\n                }\n            }\n            markRelSet {\n                markSetting {\n                    name\n                }\n                markVal\n            }\n        }\n    }\n"]))),k=((0,y.Ps)(u||(u=(0,f.Z)(["\n    query studentMarkRel ($student: Int, $schoolyear: Int) {\n        studentMarkRel (student: $student, schoolyear: $schoolyear) {\n            id\n            mark {\n                student {\n                    studentCode \n                }\n                markBoard {\n                    subject {\n                        id\n                        subject\n                        subjectCode\n                        credit\n                    }\n                    schoolyear {\n                        schoolyear \n                        season\n                    }\n                }\n            }\n            markSetting {\n                name\n                percentage\n            }\n            markVal\n        }\n    }\n"]))),(0,y.Ps)(c||(c=(0,f.Z)(["\n    query markPercentage ($percentage: Int) {\n        markPercentage (percentage: $percentage) {\n            type\n            percentage\n            diam\n        }\n    }\n"]))),(0,y.Ps)(m||(m=(0,f.Z)(["\n    query markCon ($subject: Int!, $schoolyear: Int!, $student: Int!) {\n        markCon (subject: $subject, schoolyear: $schoolyear, student: $student) {\n            percentage\n            markRel {\n                markVal\n                markSetting\n            }\n            diam\n        }\n    }\n"])))),S=((0,y.Ps)(h||(h=(0,f.Z)(["\n    query markconSubject ($schoolyear: Int!, $section: Int!, $part: String!) {\n        markconSubject (schoolyear: $schoolyear, section: $section, part: $part) {\n            subjectId\n            subject\n            subjectCode\n            subjectCredit\n        }\n    }\n"]))),(0,y.Ps)(x||(x=(0,f.Z)(["\n    query markconStudent ($section: Int!) {\n        markconStudent (section: $section) {\n            studentId\n            familyName\n            name\n            studentCode\n            registerNo\n        }\n    }\n"]))),(0,y.Ps)(j||(j=(0,f.Z)(['\n    query markConQuery ($section: Int!, $schoolyear: Int!) {\n        markconSubjectA: markconSubject (schoolyear: $schoolyear, section: $section, part: "A") {\n            subjectId \n            subject\n            subjectCode\n            subjectCredit\n        }\n        markconSubjectB: markconSubject (schoolyear: $schoolyear, section: $section, part: "B") {\n            subjectId \n            subject\n            subjectCode\n            subjectCredit\n        }\n        markconSubjectC: markconSubject (schoolyear: $schoolyear, section: $section, part: "C") {\n            subjectId \n            subject\n            subjectCode\n            subjectCredit\n        }\n        markconStudent (section: $section) {\n            studentId\n            familyName\n            name\n            studentCode\n            registerNo\n        }\n    },\n'])))),$=(0,y.Ps)(Z||(Z=(0,f.Z)(["\n    query allStudentsReport {\n        allStudentsReport {\n            id\n            user {\n                id\n                username\n                email\n            }\n            studentCode\n            surname\n            familyName\n            familyNameMgl\n            name\n            nameMgl\n            religion\n            registerNo\n            nationality\n            state\n            photo\n            phone\n            phone2\n            address\n            citizen\n            degree {\n                id\n                name\n            }\n            activity {\n                id\n                name\n            }\n            joinDate\n            joinBefore\n            sex\n            birthdate\n            classtime {\n                id\n                name\n            }\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            program {\n                id\n                program\n            }\n            joinSchoolyear {\n                id\n                schoolyear\n            }\n        }\n    }\n"])))},68694:function(e,n,t){t.d(n,{Cm:function(){return x},Cx:function(){return m},FQ:function(){return h},JX:function(){return c},dT:function(){return j},tL:function(){return Z}});var s,i,r,a,o,d,l=t(30168),u=t(27570),c=(0,u.Ps)(s||(s=(0,l.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),m=(0,u.Ps)(i||(i=(0,l.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),h=(0,u.Ps)(r||(r=(0,l.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n            classesNumeric\n        }\n\t}\n"]))),x=(0,u.Ps)(a||(a=(0,l.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject \n            subjectCode\n            credit\n        }\n    }\n']))),j=(0,u.Ps)(o||(o=(0,l.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n            programNumeric\n        }\n    }\n"]))),Z=(0,u.Ps)(d||(d=(0,l.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"])))},5799:function(e,n,t){t.r(n);var s=t(93433),i=t(4942),r=t(1413),a=t(29439),o=t(72791),d=t(20003),l=t(50419),u=t(49389),c=t(83099),m=t(87309),h=t(32014),x=t(59432),j=t(11730),Z=t(9486),f=t(36795),y=t(82464),p=t(76610),b=t(96578),v=t(84376),g=t(41963),C=t(82630),I=t(2703),k=t(69241),S=t(53793),$=t(16049),q=t(34341),w=t(59288),P=t(36319),N=t(19545),D=t(49696),M=t(64856),Y=t(64880),F=t(80184),B=d.Z.confirm;n.default=function(){var e=(0,o.useState)([]),n=(0,a.Z)(e,2),t=n[0],d=n[1],R=(0,o.useState)({}),T=(0,a.Z)(R,2),E=(T[0],T[1]),z=(0,Y.k6)(),A=(0,o.useState)({}),V=(0,a.Z)(A,2),L=V[0],_=V[1],K=(0,o.useRef)(),O=(0,b.a)(g.nA,{onCompleted:function(e){d(e.allStudentsReport)}}),Q=O.data,X=O.loading,H=O.refetch,J=(0,v.D)(M.mL,{onCompleted:function(e){H(),l.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),U=(0,a.Z)(J,1)[0];function W(e,n,t,s){n(),E((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,i.Z)({},t+s,e[0]))}))}function G(e,n){return{filterDropdown:function(t){var s=t.setSelectedKeys,i=t.selectedKeys,a=t.confirm,o=t.clearFilters;return(0,F.jsxs)("div",{className:"p-2",children:[(0,F.jsx)(u.Z,{placeholder:"\u0425\u0430\u0439\u0445",value:i[0],onChange:function(e){return s(e.target.value?[e.target.value]:[])},onPressEnter:function(){return W(i,a,e,n)},style:{marginBottom:8,display:"block"}}),(0,F.jsxs)(c.Z,{children:[(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return W(i,a,e,n)},icon:(0,F.jsx)(j.Z,{}),size:"small",style:{width:90},children:" \u0425\u0430\u0439\u0445 "}),(0,F.jsx)(m.Z,{onClick:function(){return function(e,n,t){e(),E((function(e){var s=(0,r.Z)({},e);return delete s[n+t],s}))}(o,e,n)},size:"small",style:{width:90},children:" \u0410\u0440\u0438\u043b\u0433\u0430\u0445 "})]})]})},filterIcon:function(e){return(0,F.jsx)(j.Z,{className:(0,I.AK)(e?"text-[#F8B6A8]":"")})},onFilter:function(t,s){return n?s[e][n].toString().toLowerCase().includes(t.toLowerCase()):s[e].toString().toLowerCase().includes(t.toLowerCase())},render:function(e){return e}}}var ee=(0,o.useState)([(0,r.Z)({title:"\u042d\u0446\u044d\u0433 /\u044d\u0445/-\u0438\u0439\u043d \u043d\u044d\u0440 ",dataIndex:"familyName",key:"familyName",width:150,visible:!0},G("familyName")),(0,r.Z)({title:"\u041d\u044d\u0440",dataIndex:"name",key:"name",width:150,visible:!0},G("name")),(0,r.Z)({title:"\u0418\u0440\u0433\u044d\u043d\u0448\u0438\u043b",dataIndex:"nationality",key:"nationality",width:150,visible:!0},G("nationality")),(0,r.Z)({title:"\u04ae\u043d\u0434\u044d\u0441 \u0443\u0433\u0441\u0430\u0430",dataIndex:"religion",key:"religion",width:150,visible:!0},G("religion")),(0,r.Z)({title:"\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u043a\u043e\u0434",dataIndex:"studentCode",key:"studentCode",width:150,visible:!0},G("studentCode")),(0,r.Z)({title:"\u0421\u0430\u043b\u0431\u0430\u0440 \u0441\u0443\u0440\u0433\u0443\u0443\u043b\u044c",dataIndex:["school","name"],key:"school",width:200,visible:!0},G("school","name")),(0,r.Z)({title:"\u0425\u04e9\u0442\u04e9\u043b\u0431\u04e9\u0440",dataIndex:["program","program"],key:"program",width:100,visible:!0},G("program","program")),(0,r.Z)({title:"\u0410\u043d\u0433\u0438 \u0434\u0430\u043c\u0436\u0430\u0430",dataIndex:["classes","classes"],key:"classes",width:100,visible:!0},G("classes","classes")),(0,r.Z)({title:"\u0411\u04af\u043b\u044d\u0433",dataIndex:["section","section"],key:"section",width:100,visible:!0},G("section","section")),(0,r.Z)({title:"\u0422\u04e9\u0440\u0441\u04e9\u043d \u043e\u0433\u043d\u043e\u043e",dataIndex:"birthdate",key:"birthdate",width:150,visible:!0},G("birthdate")),(0,r.Z)({title:"\u0422\u04e9\u0440\u0441\u04e9\u043d \u0430\u0439\u043c\u0430\u0433 /\u0445\u043e\u0442/",dataIndex:["birthCity","name"],key:"birthCity",width:150,visible:!0},G("birthCity","name")),(0,r.Z)({title:"\u0422\u04e9\u0440\u0441\u04e9\u043d \u0441\u0443\u043c /\u0434\u04af\u04af\u0440\u044d\u0433/",dataIndex:["birthDistrict","name"],key:"birthDistrict",width:150,visible:!0},G("birthDistrict","name")),(0,r.Z)({title:"\u0418-\u043c\u044d\u0439\u043b",dataIndex:["user","email"],key:"email",width:100,visible:!0},G("user","email")),(0,r.Z)({title:"\u0423\u0442\u0430\u0441",dataIndex:"phone",key:"phone",width:100,visible:!0},G("phone")),(0,r.Z)({title:"\u042f\u0430\u0440\u0430\u043b\u0442\u0430\u0439 \u04af\u0435\u0434 \u0445\u043e\u043b\u0431\u043e\u0433\u0434\u043e\u0445 \u0434\u0443\u0433\u0430\u0430\u0440",dataIndex:"phone2",key:"phone2",width:100,visible:!0},G("phone2")),(0,r.Z)({title:"\u0421\u0443\u0440\u0433\u0443\u0443\u043b\u044c\u0434 \u044d\u043b\u0441\u0441\u044d\u043d \u043e\u0433\u043d\u043e\u043e",dataIndex:["joinSchoolyear","schoolyear"],key:"email",width:150,visible:!0},G("joinSchoolyear","joinSchoolyear")),(0,r.Z)({title:"\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0442\u04e9\u043b\u04e9\u0432",dataIndex:["status","name"],key:"status",width:150,visible:!0},G("status","name")),(0,r.Z)({title:"\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u043d\u044d\u043c\u044d\u043b\u0442 \u0442\u04e9\u043b\u04e9\u0432",dataIndex:["statusExtra","name"],key:"status",width:150,visible:!0},G("statusExtra","name"))]),ne=(0,a.Z)(ee,2),te=ne[0],se=ne[1];var ie={edit:(0,w.C)("change_student"),destroy:(0,w.C)("delete_student"),password:(0,w.C)("change_user_password")};return(0,F.jsxs)("div",{className:"bg-white p-2",children:[(0,F.jsx)(D.Z,{ref:K,formName:"StudentForm",children:(0,F.jsx)(N.Z,{refetch:H,formType:"edit",editData:L,setIsModalVisible:function(){K.current.handleCancel()}})}),(0,F.jsxs)("div",{className:"flex justify-end",children:[(0,F.jsx)("button",{className:"px-4 py-2 hover:bg-gray-50",onClick:function(){(new p.i).addSheet("\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0433\u0447").addColumns(te.filter((function(e){return e.visible}))).addDataSource(t).saveAs("\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0433\u0447.xlsx")},children:(0,F.jsx)($.Z,{className:"h-5 w-5 text-emind","aria-hidden":"true"})}),(0,F.jsxs)(k.v,{as:"div",className:"relative inline-block text-left",children:[(0,F.jsx)("div",{children:(0,F.jsx)(k.v.Button,{className:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:(0,F.jsx)(q.Z,{className:"h-5 w-5 text-emind","aria-hidden":"true"})})}),(0,F.jsx)(S.u,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,F.jsx)(k.v.Items,{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,F.jsx)("div",{className:"flex flex-col p-1",children:te.map((function(e,n){return(0,F.jsx)(h.Z,{onChange:function(e){return function(e,n){var t=te.slice();t[n].visible=e.target.checked,se(t)}(e,n)},checked:e.visible,className:"ml-1",value:e.dataIndex,children:e.title},n)}))})})})]})]}),(0,F.jsx)(x.Z,{className:"mt-4",loading:X,columns:[].concat((0,s.Z)(te.filter((function(e){return e.visible}))),[{key:"actions",title:(0,F.jsx)(C.Z,{id:"main.action"}),width:"15vw",dataIndex:"actions",render:function(e,n){return(0,F.jsxs)("div",{className:"text-center",children:[ie.password&&(0,F.jsx)(P.Z,{user:n.user.id}),(0,F.jsxs)(m.Z,{size:"small",onClick:function(){return z.push({pathname:"/app/student/transfer-student",state:{student:n}})},type:"text",icon:(0,F.jsx)(Z.Z,{}),children:[" ",(0,F.jsx)(C.Z,{id:"transfer-student"})]}),!0===ie.edit&&(0,F.jsxs)(m.Z,{size:"small",onClick:function(){return _(n),void K.current.handleOpen()},type:"text",icon:(0,F.jsx)(f.Z,{twoToneColor:"#ffdb00"}),children:[" ",(0,F.jsx)(C.Z,{id:"edit"})]}),!0===ie.destroy&&(0,F.jsxs)(m.Z,{size:"small",onClick:function(){return e=n,void B({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){U({variables:{id:e.id}})}});var e},type:"text",icon:(0,F.jsx)(y.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,F.jsx)(C.Z,{id:"delete"})]})]})}}]),dataSource:null===Q||void 0===Q?void 0:Q.allStudentsReport,rowKey:"id",bordered:!0,size:"small",onChange:function(e,n,t,s){d(s.currentDataSource)},pagination:{defaultPageSize:20},scroll:{x:2e3,y:500}})]})}},19545:function(e,n,t){var s=t(29439),i=t(72791),r=t(22949),a=t(73332),o=t(49389),d=t(50419),l=t(37083),u=t(66106),c=t(30914),m=t(11561),h=t(84376),x=t(96578),j=t(86586),Z=t(41920),f=t(7378),y=t(20077),p=t(82259),b=t(72426),v=t.n(b),g=t(82630),C=t(68694),I=t(80184);n.Z=function(e){var n=e.editData,t=e.formType,b=e.setIsModalVisible,k=e.refetch,S=r.Z.Option,$=a.Z.useForm(),q=(0,s.Z)($,1)[0],w=o.Z.TextArea,P="YYYY-MM-DD",N=(0,h.D)(y.vm,{onCompleted:function(e){k(),d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),q.resetFields(),b(!1)}}),D=(0,s.Z)(N,2),M=D[0],Y=D[1].loading,F=(0,h.D)(p.x,{onCompleted:function(e){k(),d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),q.resetFields(),b(!1)}}),B=(0,s.Z)(F,2),R=B[0],T=B[1].loading,E=(0,x.a)(f.wZ).data,z=(0,x.a)(f.$5).data,A=(0,j.t)(C.FQ),V=(0,s.Z)(A,2),L=V[0],_=V[1].data,K=(0,x.a)(Z.YP).data,O=(0,x.a)(Z.$_).data,Q=(0,x.a)(Z.NC).data,X=(0,x.a)(Z.Fm).data,H=(0,x.a)(f.Ds).data,J=(0,x.a)(f.w9).data,U=(0,x.a)(Z.gw).data,W=(0,x.a)(Z.YV).data,G=(0,j.t)(Z.vh),ee=(0,s.Z)(G,2),ne=ee[0],te=ee[1].data,se=(0,x.a)(Z.nh).data;(0,i.useEffect)((function(){if("edit"===t){var e,s,i={username:n.user.username,email:n.user.email,studentCode:n.studentCode,familyName:n.familyName,name:n.name,registerNo:n.registerNo,phone:n.phone,phone2:n.phone2,address:n.address,degree:n.degree.id,activity:n.activity.id,joinBefore:n.joinBefore,sex:n.sex,classtime:n.classtime.id,birthCity:null===(e=n.birthCity)||void 0===e?void 0:e.id,birthDistrict:null===(s=n.birthDistrict)||void 0===s?void 0:s.id,status:n.status.id,statusExtra:n.statusExtra.id,school:n.school.id,classes:n.classes.id,section:n.section.id,program:n.program.id,joinSchoolyear:n.joinSchoolyear.id,joinDate:n.joinDate&&v()(n.joinDate),birthdate:n.birthdate&&v()(n.birthdate)};oe(i.birthCity),L({variables:{program:i.program,offset:1,limit:1,filter:""}}),he(i.program),pe(v()(i.joinDate).format("YYYY-MM-DD")),Ce(v()(i.birthdate).format("YYYY-MM-DD")),q.setFieldsValue(i)}else"create"===t&&q.resetFields()}),[L,q,n,t]);var ie=(0,i.useState)(""),re=(0,s.Z)(ie,2),ae=re[0],oe=re[1],de=null,le=null;ae&&(de=ae),de&&(le=null===Q||void 0===Q?void 0:Q.allDistricts.filter((function(e){return e.cityID.id===de})).map((function(e){return(0,I.jsx)(S,{value:e.id,children:e.name},e.id)})));var ue=(0,i.useState)(""),ce=(0,s.Z)(ue,2),me=ce[0],he=ce[1],xe=null,je=null;me&&(xe=me),xe&&(je=null===_||void 0===_?void 0:_.allClassess.map((function(e){return(0,I.jsx)(S,{value:e.id,children:e.classes},e.id)})));var Ze=(0,i.useState)(""),fe=(0,s.Z)(Ze,2),ye=fe[0],pe=fe[1],be=(0,i.useState)(""),ve=(0,s.Z)(be,2),ge=ve[0],Ce=ve[1],Ie=new RegExp(/^([7-9][0-9]{3}[0-9]{4})?$/),ke=new RegExp(/[\u0401\u0410-\u042F\u04AE\u04E8]{2}([0-9]){8}$/);return(0,I.jsx)(l.Z,{spinning:Y||T,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,I.jsx)(a.Z,{id:"StudentForm",layout:"vertical",form:q,name:"control-hooks",onFinish:function(e){"edit"===t?(e.joinDate=ye,e.birthdate=ge,e.id=n.id,R({variables:e})):(e.joinDate=ye,e.birthdate=ge,M({variables:e}))},size:"small",children:(0,I.jsxs)(u.Z,{gutter:[16,24],children:[(0,I.jsxs)(c.Z,{className:"gutter-row",span:12,children:["create"===t&&(0,I.jsx)(a.Z.Item,{name:"school",label:(0,I.jsx)(g.Z,{id:"school"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===X||void 0===X?void 0:X.allSchools.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})}),"create"===t&&(0,I.jsx)(a.Z.Item,{name:"classes",label:(0,I.jsx)(g.Z,{id:"classes"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{onChange:function(e){ne({variables:{classes:e}}),q.setFieldsValue({section:""})},children:je})}),(0,I.jsx)(a.Z.Item,{name:"familyName",label:(0,I.jsx)(g.Z,{id:"familyName"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"birthCity",label:(0,I.jsx)(g.Z,{id:"birthCity"}),children:(0,I.jsx)(r.Z,{onChange:function(e){oe(e)},children:null===O||void 0===O?void 0:O.allCitys.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})}),(0,I.jsx)(a.Z.Item,{name:"birthdate",label:(0,I.jsx)(g.Z,{id:"birthdate"}),children:(0,I.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){Ce(v()(e).format("YYYY-MM-DD"))},format:P})}),(0,I.jsx)(a.Z.Item,{name:"sex",label:(0,I.jsx)(g.Z,{id:"sex"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsxs)(r.Z,{children:[(0,I.jsx)(S,{value:"\u042d\u0440\u044d\u0433\u0442\u044d\u0439",children:(0,I.jsx)(g.Z,{id:"sex.male"})},"0"),(0,I.jsx)(S,{value:"\u042d\u043c\u044d\u0433\u0442\u044d\u0439",children:(0,I.jsx)(g.Z,{id:"sex.female"})},"1")]})}),(0,I.jsx)(a.Z.Item,{name:"degree",label:(0,I.jsx)(g.Z,{id:"degree"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===E||void 0===E?void 0:E.allDegrees.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})}),"create"===t&&(0,I.jsx)(a.Z.Item,{name:"status",label:(0,I.jsx)(g.Z,{id:"status"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===H||void 0===H?void 0:H.allStudentStatuss.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})}),(0,I.jsx)(a.Z.Item,{name:"phone",label:(0,I.jsx)(g.Z,{id:"phone"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})},{validator:function(e,n){return Ie.test(n)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"email",label:(0,I.jsx)(g.Z,{id:"email"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})},{type:"email",message:"\u0418-\u043c\u044d\u0439\u043b \u0443\u0442\u0433\u0430 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430"}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"username",label:(0,I.jsx)(g.Z,{id:"username"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})},{validator:function(e,s){return i=s,(null===U||void 0===U?void 0:U.allUsers.some((function(e){return("edit"!==t||n.user.username!==i)&&e.username===i})))?Promise.reject("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u0431\u04af\u0440\u0442\u0433\u044d\u043b\u0442\u044d\u0439 \u0431\u0430\u0439\u043d\u0430"):Promise.resolve();var i}}],children:(0,I.jsx)(o.Z,{})}),"create"===t&&(0,I.jsx)(a.Z.Item,{name:"classtime",label:(0,I.jsx)(g.Z,{id:"classtime"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===W||void 0===W?void 0:W.allClasstimes.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})}),(0,I.jsx)(a.Z.Item,{name:"address",label:(0,I.jsx)(g.Z,{id:"address"}),children:(0,I.jsx)(w,{rows:2})})]}),(0,I.jsxs)(c.Z,{className:"gutter-row",span:12,children:["create"===t&&(0,I.jsx)(a.Z.Item,{name:"program",label:(0,I.jsx)(g.Z,{id:"program"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{onChange:function(e){L({variables:{program:e,offset:1,limit:1,filter:""}}),he(e)},children:null===K||void 0===K?void 0:K.allPrograms.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.program},n)}))})}),"create"===t&&(0,I.jsx)(a.Z.Item,{name:"section",label:(0,I.jsx)(g.Z,{id:"section"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===te||void 0===te?void 0:te.sectionsByClasses.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.section},n)}))})}),(0,I.jsx)(a.Z.Item,{name:"name",label:(0,I.jsx)(g.Z,{id:"name"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"birthDistrict",label:(0,I.jsx)(g.Z,{id:"birthDistrict"}),children:(0,I.jsx)(r.Z,{children:le})}),(0,I.jsx)(a.Z.Item,{name:"registerNo",label:(0,I.jsx)(g.Z,{id:"registerNo"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})},{validator:function(e,n){return ke.test(n)?Promise.resolve():Promise.reject("\u0420\u0435\u0433\u0438\u0441\u0442\u0435\u0440\u0438\u0439\u043d \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"studentCode",label:(0,I.jsx)(g.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"joinBefore",label:(0,I.jsx)(g.Z,{id:"joinBefore"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(o.Z,{})}),"create"===t&&(0,I.jsx)(a.Z.Item,{name:"statusExtra",label:(0,I.jsx)(g.Z,{id:"student-status-extra"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===J||void 0===J?void 0:J.allStudentStatusExtras.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})}),(0,I.jsx)(a.Z.Item,{name:"phone2",label:(0,I.jsx)(g.Z,{id:"phone2"}),rules:[{validator:function(e,n){return Ie.test(n)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,I.jsx)(o.Z,{})}),(0,I.jsx)(a.Z.Item,{name:"joinSchoolyear",label:(0,I.jsx)(g.Z,{id:"joinSchoolyear"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===se||void 0===se?void 0:se.allSchoolyears.map((function(e,n){return(0,I.jsxs)(S,{value:e.id,children:[e.schoolyear," ",e.season]},n)}))})}),(0,I.jsx)(a.Z.Item,{name:"joinDate",label:(0,I.jsx)(g.Z,{id:"joinDate"}),children:(0,I.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){pe(v()(e).format("YYYY-MM-DD"))},format:P})}),"create"===t?(0,I.jsx)(a.Z.Item,{name:"password",label:(0,I.jsx)(g.Z,{id:"password"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})},{min:8,message:"\u041d\u0443\u0443\u0446 \u04af\u0433 8-\u0430\u0430\u0441 \u0443\u0440\u0442\u0442\u0430\u0439 \u0434\u044d\u044d\u0448 \u0431\u0430\u0439\u0445 \u0451\u0441\u0442\u043e\u0439"},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("username")!==t?Promise.resolve():Promise.reject("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043d\u0443\u0443\u0446 \u04af\u0433 \u0445\u043e\u0451\u0440 \u0438\u0436\u0438\u043b \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043e\u043c\u0433\u04af\u0439!")}}}],children:(0,I.jsx)(o.Z.Password,{})}):null,"create"===t&&(0,I.jsx)(a.Z.Item,{name:"activity",label:(0,I.jsx)(g.Z,{id:"activity"}),rules:[{required:!0,message:(0,I.jsx)(g.Z,{id:"form.required"})}],children:(0,I.jsx)(r.Z,{children:null===z||void 0===z?void 0:z.allActivitys.map((function(e,n){return(0,I.jsx)(S,{value:e.id,children:e.name},n)}))})})]})]})})})}}}]);
//# sourceMappingURL=5799.91a1d053.chunk.js.map