"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[9712],{68470:function(n,e,t){t(72791);var i=t(80184),l=function(n){var e=n.children,t=n.className,l=n.alignItems,s=n.justifyContent,o=n.mobileFlex,r=n.flexDirection;return(0,i.jsx)("div",{className:"".concat(o?"d-flex":"d-md-flex"," ").concat(t," ").concat(r?"flex-"+r:""," ").concat(l?"align-items-"+l:""," ").concat(s?"justify-content-"+s:""),children:e})};l.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=l},42086:function(n,e,t){var i=t(29439),l=t(72791),s=t(96578),o=t(86586),r=t(22949),a=t(73332),d=t(58361),u=t(66106),c=t(30914),m=t(66871),f=t(69421),$=t(87309),Z=t(82630),x=t(68694),S=t(38937),j=t(80184),b=r.Z.Option;e.Z=function(n){var e=n.submitData,t=n.mutationData,p=n.loading,y=a.Z.useForm(),g=(0,i.Z)(y,1)[0],h=a.Z.useForm(),F=(0,i.Z)(h,1)[0],I=(0,l.useState)([]),O=(0,i.Z)(I,2),P=O[0],L=O[1],C=(0,l.useState)([]),N=(0,i.Z)(C,2),v=N[0],T=N[1],q=(0,l.useState)([]),k=(0,i.Z)(q,2),D=k[0],w=k[1],B=(0,s.a)(x.dT,{onCompleted:function(n){L(n.allPrograms)}}).loading,E=(0,o.t)(x.tL,{onCompleted:function(n){T(n.sectionsByProgram)}}),A=(0,i.Z)(E,2),_=A[0],U=A[1].loading,M=(0,o.t)(x.JX,{onCompleted:function(n){w(n.allStudents)}}),X=(0,i.Z)(M,2),J=X[0],V=X[1].loading,z=function(n){var i=Object.assign(n,t);e({variables:i})};return(0,j.jsx)(d.Z,{active:!0,loading:B,children:(0,j.jsxs)(u.Z,{gutter:16,children:[(0,j.jsx)(c.Z,{xs:24,xl:12,children:(0,j.jsx)(m.Z,{className:"mt-4",title:(0,j.jsx)(Z.Z,{id:"by-section"}),children:(0,j.jsxs)(a.Z,{id:"section",layout:"vertical",form:g,name:"control-hooks",onFinish:z,children:[(0,j.jsx)(a.Z.Item,{name:"program",label:(0,j.jsx)(Z.Z,{id:"program"}),rules:[{required:!0,message:(0,j.jsx)(Z.Z,{id:"form.required"})}],children:(0,j.jsx)(r.Z,{onSelect:function(n){g.setFieldsValue({section:""}),_({variables:{program:n}})},allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(n,e){return e.children.toString().toLowerCase().indexOf(n.toLowerCase())>=0},children:P.map((function(n,e){return(0,j.jsxs)(b,{value:n.id,children:[n.program," / ",n.programNumeric]},e)}))})}),(0,j.jsx)(a.Z.Item,{name:"section",label:(0,j.jsx)(Z.Z,{id:"section"}),rules:[{required:!0,message:(0,j.jsx)(Z.Z,{id:"form.required"})}],children:(0,j.jsx)(r.Z,{allowClear:!0,notFoundContent:U?(0,j.jsx)(S.Z,{cover:"content"}):(0,j.jsx)(f.Z,{image:f.Z.PRESENTED_IMAGE_SIMPLE}),children:v.map((function(n,e){return(0,j.jsxs)(b,{value:n.id,children:[n.classes.classes," / ",n.section]},e)}))})}),(0,j.jsx)(a.Z.Item,{className:"text-right",children:(0,j.jsx)($.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:p,children:(0,j.jsx)(Z.Z,{id:"main.okText"})})})]})})}),(0,j.jsx)(c.Z,{xs:24,xl:12,children:(0,j.jsx)(m.Z,{className:"mt-4",title:(0,j.jsx)(Z.Z,{id:"by-student-code"}),children:(0,j.jsxs)(a.Z,{id:"student",layout:"vertical",form:F,name:"control-hooks",onFinish:z,children:[(0,j.jsx)(a.Z.Item,{name:"studentCode",label:(0,j.jsx)(Z.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,j.jsx)(Z.Z,{id:"form.required"})}],children:(0,j.jsx)(r.Z,{showSearch:!0,filterOption:!1,notFoundContent:V?(0,j.jsx)(S.Z,{cover:"content"}):(0,j.jsx)(f.Z,{image:f.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(n){""===n?w([]):J({variables:{offset:0,limit:99999999,filter:n}})},children:D.map((function(n,e){return(0,j.jsxs)(b,{value:n.studentCode,children:[" ",n.familyName," ",n.name," / ",n.studentCode]},e)}))})}),(0,j.jsx)(a.Z.Item,{className:"text-right",children:(0,j.jsx)($.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:p,children:(0,j.jsx)(Z.Z,{id:"main.okText"})})})]})})})]})})}},25566:function(n,e,t){t.d(e,{$A:function(){return H},Ap:function(){return k},Ho:function(){return V},K_:function(){return M},ND:function(){return z},OV:function(){return K},S8:function(){return G},U7:function(){return D},Vv:function(){return B},bb:function(){return v},ds:function(){return _},eX:function(){return E},iZ:function(){return X},j$:function(){return A},kZ:function(){return w},mq:function(){return q},oJ:function(){return J},q$:function(){return C},sZ:function(){return L},u$:function(){return T},vX:function(){return U},zN:function(){return N}});var i,l,s,o,r,a,d,u,c,m,f,$,Z,x,S,j,b,p,y,g,h,F,I,O=t(30168),P=t(27570),L=(0,P.Ps)(i||(i=(0,O.Z)(["\n    query allOnlineTypes {\n        allOnlineTypes {\n            id\n            name\n        }\n    }\n\n"]))),C=(0,P.Ps)(l||(l=(0,O.Z)(["\n    query allOnlineFiles ($folder: Int){\n        allOnlineFiles (folder: $folder){\n            id\n            file\n        }\n    }\n"]))),N=(0,P.Ps)(s||(s=(0,O.Z)(["\n    query allFolders ($folder: Int){\n        allFolders(folder: $folder){\n            id\n            name\n        }\n    }\n    "]))),v=(0,P.Ps)(o||(o=(0,O.Z)(["\n    mutation createOnlineFile($file: Upload!, $folder: Int) {\n        createOnlineFile(file: $file, folder: $folder) {\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),T=(0,P.Ps)(r||(r=(0,O.Z)(["\n    mutation createOnlineFileFolder($name: String, $subFolder: Int){\n        createOnlineFileFolder(name: $name, subFolder: $subFolder){\n            onlineFileFolder{\n                id\n            }\n        }\n    }\n"]))),q=(0,P.Ps)(a||(a=(0,O.Z)(["\n    mutation deleteOnlineFile ($id: ID) {\n        deleteOnlineFile (id: $id) {\n            onlineFile {\n                file\n            }\n        }\n    }\n"]))),k=(0,P.Ps)(d||(d=(0,O.Z)(["\n    mutation deleteOnlineFileFolder ($id: Int){\n        deleteOnlineFileFolder (id: $id){\n            onlineFileFolder {\n                name\n            }\n        }\n    }\n"]))),D=(0,P.Ps)(u||(u=(0,O.Z)(["\n    mutation createOnlineLesson ($content: String, $description: String, $schoolyear: Int, $status: String, $subject: Int) {\n        createOnlineLesson (content: $content, description: $description, schoolyear: $schoolyear, status: $status, subject: $subject) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),w=(0,P.Ps)(c||(c=(0,O.Z)(["\n    mutation updateOnlineLesson ($content: String, $description: String, $id: ID, $schoolyear: Int, $status: String, $subject: Int) {\n        updateOnlineLesson (content: $content, description: $description, id: $id, schoolyear: $schoolyear, status: $status, subject: $subject) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),B=(0,P.Ps)(m||(m=(0,O.Z)(['\n    query allOnlineLessons ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "online_lesson", modelName: "Online_lesson", filter: $filter) {\n            count\n        }\n        allOnlineLessons (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            schoolyear {\n                id\n                schoolyear\n            }\n            subject {\n                id\n                subject\n            }\n            description\n            content\n            status\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n        }\n    }\n']))),E=(0,P.Ps)(f||(f=(0,O.Z)(["\n    query onlineLessonById ($id: Int!) {\n        onlineLessonById (id: $id) {\n            id\n            schoolyear {\n                schoolyear\n                id\n            }\n            subject {\n                subject\n                id\n            }\n            description\n            content\n            status\n        }\n    }\n"]))),A=(0,P.Ps)($||($=(0,O.Z)(["\n    mutation deleteOnlineLesson ($id: ID) {\n        deleteOnlineLesson (id: $id) {\n            onlineLesson {\n                status\n            }\n        }\n    }\n"]))),_=(0,P.Ps)(Z||(Z=(0,O.Z)(["\n    query allOnlineSubByLesson ($onlineLesson: Int!) {\n        allOnlineSubByLesson (onlineLesson: $onlineLesson) {\n            id\n            title\n            description\n            content\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineSubFileSet {\n                id\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            status\n            createdAt\n        }\n    }\n"]))),U=(0,P.Ps)(x||(x=(0,O.Z)(["\n    mutation createOnlineSub ($content: String, $description: String, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        createOnlineSub (content: $content, description: $description, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),M=(0,P.Ps)(S||(S=(0,O.Z)(["\n    mutation updateOnlineSub ($content: String, $description: String, $id: ID, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        updateOnlineSub (content: $content, description: $description, id: $id, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),X=(0,P.Ps)(j||(j=(0,O.Z)(["\n    mutation deleteOnlineSub ($id: ID) {\n        deleteOnlineSub (id: $id) {\n            onlineSub {\n                title\n            }\n        }\n    }\n"]))),J=(0,P.Ps)(b||(b=(0,O.Z)(["\n    query onlineSubById ($id: Int!) {\n        onlineSubById (id: $id) {\n            title\n            description\n            content\n            onlineLesson {\n                subject {\n                    subject\n                }\n            }\n            onlineSubFileSet {\n                id\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineAttendanceSet {\n                student {\n                    id\n                    studentCode\n                    name\n                    familyName\n                }\n            }\n            status\n            createdAt\n        }\n    } \n"]))),V=(0,P.Ps)(p||(p=(0,O.Z)(['\n    mutation createOnlineStudent ($onlineLesson: Int, $studentCode: String = "", $section: Int = 0) {\n        createOnlineStudent (onlineLesson: $onlineLesson, studentCode: $studentCode, section: $section) {\n            onlineStudent {\n                id\n            }\n        }\n    }\n']))),z=(0,P.Ps)(y||(y=(0,O.Z)(["\n    mutation deleteOnlineStudent ($id: ID) {\n        deleteOnlineStudent (id: $id) {\n            onlineStudent {\n                student {\n                    name\n                }\n            }\n        }\n    }\n"]))),G=(0,P.Ps)(g||(g=(0,O.Z)(["\n    query allOnlineStudentByLesson ($onlineLesson: Int!) {\n        allOnlineStudentByLesson (onlineLesson: $onlineLesson) {\n            id\n            student {\n                id\n                familyName\n                name\n                studentCode\n            }\n        }\n    }\n"]))),H=((0,P.Ps)(h||(h=(0,O.Z)(["\n    query allOnlineSubFiles ($onlineSub: Int) {\n        allOnlineSubFiles (onlineSub: $onlineSub) {\n            id\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),(0,P.Ps)(F||(F=(0,O.Z)(["\n    mutation createOnlineSubFile ($onlineFile: Int, $onlineSub: Int) {\n        createOnlineSubFile (onlineFile: $onlineFile, onlineSub: $onlineSub) {\n            onlineSubFile {\n                id\n            }\n        }\n    }\n"])))),K=(0,P.Ps)(I||(I=(0,O.Z)(["\n    mutation deleteOnlineSubFile ($id: Int) {\n        deleteOnlineSubFile (id: $id) {\n            onlineSubFile {\n                onlineSub {\n                    id\n                }\n            }\n        }\n    }\n"])))},68694:function(n,e,t){t.d(e,{Cm:function(){return $},Cx:function(){return m},FQ:function(){return f},JX:function(){return c},dT:function(){return Z},tL:function(){return x}});var i,l,s,o,r,a,d=t(30168),u=t(27570),c=(0,u.Ps)(i||(i=(0,d.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),m=(0,u.Ps)(l||(l=(0,d.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),f=(0,u.Ps)(s||(s=(0,d.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n            classesNumeric\n        }\n\t}\n"]))),$=(0,u.Ps)(o||(o=(0,d.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject \n            subjectCode\n            credit\n        }\n    }\n']))),Z=(0,u.Ps)(r||(r=(0,d.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n            programNumeric\n        }\n    }\n"]))),x=(0,u.Ps)(a||(a=(0,d.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"])))},79712:function(n,e,t){t.r(e);var i=t(29439),l=(t(72791),t(20003)),s=t(50419),o=t(87309),r=t(66871),a=t(59432),d=t(82464),u=t(53834),c=t(96578),m=t(84376),f=t(38937),$=t(25566),Z=t(68470),x=t(64880),S=t(82630),j=t(42086),b=t(80184),p=l.Z.confirm;e.default=function(n){var e=(0,x.k6)(),t=(0,x.UO)().lesson,l=(0,c.a)($.S8,{variables:{onlineLesson:t}}),y=l.data,g=l.loading,h=l.refetch,F=(0,m.D)($.Ho,{onCompleted:function(n){h(),s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430!")}}),I=(0,i.Z)(F,2),O=I[0],P=I[1].loading,L=(0,m.D)($.ND,{onCompleted:function(n){h(),s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430!")}}),C=(0,i.Z)(L,2),N=C[0],v=C[1].loading,T=[{title:(0,b.jsx)(S.Z,{id:"studentCode"}),dataIndex:["student","studentCode"],key:"studentCode"},{title:(0,b.jsx)(S.Z,{id:"familyName"}),dataIndex:["student","familyName"],key:"familyName"},{title:(0,b.jsx)(S.Z,{id:"name"}),dataIndex:["student","name"],key:"name"},{title:(0,b.jsx)(S.Z,{id:"main.action"}),dataIndex:"id",key:"id",width:"30px",render:function(n,e){return(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)(o.Z,{loading:v,size:"small",onClick:function(){return n=e.id,void p({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){N({variables:{id:n}})}});var n},type:"text",icon:(0,b.jsx)(d.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,b.jsx)(S.Z,{id:"delete"})]})})}}];return g?(0,b.jsx)(f.Z,{cover:"content"}):(0,b.jsxs)("div",{children:[(0,b.jsx)(Z.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:(0,b.jsx)(Z.Z,{mobileFlex:!1,children:(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)(o.Z,{onClick:function(){return e.goBack()},type:"default",icon:(0,b.jsx)(u.Z,{}),block:!0,children:[" ",(0,b.jsx)(S.Z,{id:"back"})]})})})}),(0,b.jsx)(j.Z,{submitData:O,loading:P,mutationData:{onlineLesson:t}}),(0,b.jsx)(r.Z,{className:"mt-4",title:(0,b.jsx)(S.Z,{id:"student"}),children:(0,b.jsx)(a.Z,{className:"mt-2",columns:T,rowKey:"id",bordered:!0,pagination:!1,dataSource:y.allOnlineStudentByLesson})})]})}}}]);
//# sourceMappingURL=9712.0c5f0fff.chunk.js.map