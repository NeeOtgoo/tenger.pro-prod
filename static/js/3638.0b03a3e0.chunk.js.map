{"version":3,"file":"static/js/3638.0b03a3e0.chunk.js","mappings":"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","sources":["graphql/test.js","views/app-views/take-test/exam-form.js","views/app-views/take-test/exam.js"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const ALL_ONLINE_TESTS = gql `\r\n    query allOnlineTests {\r\n        allOnlineTests {\r\n            id\r\n            title\r\n            description\r\n            subject {\r\n                id\r\n                subject\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_ONLINE_TEST = gql `\r\n    mutation createOnlineTest ($description: String, $subject: Int, $title: String) {\r\n        createOnlineTest (description: $description, subject: $subject, title: $title) {\r\n            onlineTest {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_ONLINE_TEST = gql `\r\n    mutation updateOnlineTest ($description: String, $id: ID, $subject: Int, $title: String) {\r\n        updateOnlineTest (description: $description, id: $id, subject: $subject, title: $title) {\r\n            OnlineTest {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_ONLINE_TEST = gql `\r\n    mutation deleteOnlineTest ($id: ID) {\r\n        deleteOnlineTest (id: $id) {\r\n            onlineTest {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_QUESTION_LEVELS = gql `\r\n    query allQuestionLevels {\r\n        allQuestionLevels {\r\n            level\r\n            id\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_QUESTION_LEVEL = gql `\r\n    mutation createQuestionLevel ($level: String) {\r\n        createQuestionLevel (level: $level) {\r\n            questionLevel {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_QUESTION_LEVEL = gql `\r\n    mutation updateQuestionLevel ($level: String, $id: ID) {\r\n        updateQuestionLevel (level: $level, id: $id) {\r\n            questionLevel {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_QUESTION_LEVEL = gql `\r\n    mutation deleteQuestionLevel ($id: ID) {\r\n        deleteQuestionLevel (id: $id) {\r\n            questionLevel {\r\n                level\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_QUESTIONS_BY_TEST = gql `\r\n    query allQuestionsByTest ($id: Int!) {\r\n        allQuestionsByTest (id: $id) {\r\n            id\r\n            question\r\n            hint\r\n            image\r\n            answerType\r\n            questionLevel {\r\n                id\r\n                level\r\n            }\r\n            questionChoiceSet {\r\n                id\r\n                answer\r\n                score\r\n            }\r\n        }\r\n    }\r\n`; \r\n\r\nexport const CREATE_QUESTION = gql `\r\n    mutation createQuestion ($answerType: String, $image: Upload, $onlineTest: Int, $questionLevel: Int) {\r\n        createQuestion (answerType: $answerType, hint: \"\", image: $image, onlineTest: $onlineTest, questionL: \"Асуулт\", questionLevel: $questionLevel) {\r\n            question {\r\n                id\r\n                answerType\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_QUESTION = gql `\r\n    mutation updateQuestion ($answerType: String, $hint: String, $image: Upload, $onlineTest: Int, $questionL: String, $questionLevel: Int, $id: ID) {\r\n        updateQuestion (answerType: $answerType, hint: $hint, image: $image, onlineTest: $onlineTest, questionL: $questionL, questionLevel: $questionLevel, id: $id) {\r\n            question {\r\n                id\r\n                answerType\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_QUESTION = gql `\r\n    mutation deleteQuestion ($id: ID) {\r\n        deleteQuestion (id: $id) {\r\n            question {\r\n                question\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_QUESTION_CHOICE = gql `\r\n    mutation createQuestionChoice ($answer: String, $question: Int, $score: Decimal) {\r\n        createQuestionChoice (answer: $answer, question: $question, score: $score) {\r\n            questionChoice {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_QUESTION_CHOICE = gql `\r\n    mutation updateQuestionChoice ($answer: String, $question: Int, $score: Decimal, $id: ID) {\r\n        updateQuestionChoice (answer: $answer, question: $question, score: $score, id: $id) {\r\n            questionChoice {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_QUESTION_CHOICE = gql `\r\n    mutation deleteQuestionChoice ($id: ID) {\r\n        deleteQuestionChoice (id: $id) {\r\n            questionChoice {\r\n                score\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_TAKE_TEST = gql `\r\n    query allTakeTests {\r\n        allTakeTests {\r\n            id\r\n            title\r\n            description\r\n            startAt\r\n            endAt\r\n            duration\r\n            status\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_TAKE_TEST = gql `\r\n    mutation createTakeTest ($duration: Int, $endAt: String, $startAt: String, $status: String, $description: String, $title: String) {\r\n        createTakeTest (duration: $duration, endAt: $endAt, startAt: $startAt, status: $status, description: $description, title: $title) {\r\n            takeTest {\r\n                status\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_TAKE_TEST = gql `\r\n    mutation updateTakeTest ($duration: Int, $endAt: String, $startAt: String, $status: String, $id: ID, $description: String, $title: String) {\r\n        updateTakeTest (duration: $duration, endAt: $endAt, startAt: $startAt, status: $status, id: $id, description: $description, title: $title) {\r\n            takeTest {\r\n                status\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_TAKE_TEST = gql `\r\n    mutation deleteTakeTest ($id: ID) {\r\n        deleteTakeTest (id: $id) {\r\n            takeTest {\r\n                status\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_PARTICIPANT_BY_TEST = gql `\r\n    query allParticipantByTest ($takeTest: Int!) {\r\n        allParticipantByTest (takeTest: $takeTest) {\r\n            id\r\n            student {\r\n                studentCode\r\n                familyName\r\n                name\r\n            }\r\n            started\r\n            completed\r\n            answerSet {\r\n                answerType\r\n                questionText\r\n                choices\r\n                score\r\n                givenAnswer\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_PARTICIPANT = gql `\r\n    mutation createParticipant ($section: Int = 0, $studentCode: String = \"\", $takeTest: Int) {\r\n        createParticipant (section: $section, studentCode: $studentCode, takeTest: $takeTest) {\r\n            participant {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_PARTICIPANT = gql `\r\n    mutation deleteParticipant ($id: ID, $takeTest: Int) {\r\n        deleteParticipant (id: $id, takeTest: $takeTest) {\r\n            participant {\r\n                started\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_TAKE_LEVEL = gql `\r\n    query allTakeLevelByTest ($takeTest: Int!) {\r\n        allTakeLevelByTest (takeTest: $takeTest) {\r\n            id\r\n            onlineTest {\r\n                id\r\n                title\r\n            }\r\n            questionLevel {\r\n                id\r\n                level\r\n            }\r\n            takeNumber\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_TAKE_LEVEL = gql `\r\n    mutation createTakeLevel ($onlineTest: Int, $questionLevel: Int, $takeNumber: Int, $takeTest: Int) {\r\n        createTakeLevel (onlineTest: $onlineTest, questionLevel: $questionLevel, takeNumber: $takeNumber, takeTest: $takeTest) {\r\n            takeLevel {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_TAKE_LEVEL = gql `\r\n    mutation deleteTakeLevel ($id: ID) {\r\n        deleteTakeLevel (id: $id) {\r\n            takeLevel {\r\n                takeNumber\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_SECTIONS = gql `\r\n    query allSections {\r\n        allSections {\r\n            id\r\n            section\r\n            studentSet {\r\n                id\r\n                studentCode\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const START_TEST = gql `\r\n    query startTest ($takeTest: Int!) {\r\n        startTest (takeTest: $takeTest) {\r\n            id\r\n            questionText\r\n            choices\r\n            answerType\r\n            givenAnswer\r\n            question {\r\n                hint\r\n                image\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_ANSWER = gql `\r\n    mutation updateAnswer ($givenAnswer: String, $id: ID) {\r\n        updateAnswer (givenAnswer: $givenAnswer, id: $id) {\r\n            answer {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const TEST_TIME = gql `\r\n    query testTime ($takeTest: Int!) {\r\n        testTime (takeTest: $takeTest) {\r\n            duration\r\n            started\r\n            endAt\r\n        }\r\n    }\r\n`;\r\n\r\nexport const FINISH_TEST = gql `\r\n    query finishTest ($takeTest: Int!) {\r\n        finishTest (takeTest: $takeTest) {\r\n            score\r\n        }\r\n    }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport { Button, Card, Form, Typography, Input, Radio, Checkbox, Image, Modal, Result, Space } from 'antd';\r\nimport {\r\n    LeftOutlined,\r\n    RightOutlined ,\r\n    DoubleRightOutlined,\r\n    CheckOutlined \r\n} from '@ant-design/icons';\r\nimport { useMutation } from '@apollo/client';\r\nimport { UPDATE_ANSWER } from 'graphql/test';\r\nimport { BASE_SERVER_URL } from \"configs/AppConfig\"; \r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\nconst { TextArea } = Input;\r\nconst { confirm } = Modal;\r\n\r\nconst layout = {\r\n    labelCol: { span: 3 },\r\n    wrapperCol: { span: 24 },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: { span: 32 },\r\n};\r\n\r\nconst ExamForm = ({ answer, refetch, next, prev, setIsFinished, page, answers }) => {\r\n\r\n    const [form] = Form.useForm();\r\n    const [question, setQuestion] = useState(answer);\r\n\r\n    useEffect(() => {\r\n        if (answer) {\r\n            const selectedAnswers = [];\r\n            let selectedAnswer = \"\";\r\n    \r\n            setQuestion(answer)\r\n            if (answer !== answer.givenAnswer) {\r\n                if (answer.answerType === \"TEXT\") {\r\n                    form.setFieldsValue({\r\n                        givenAnswer: answer.givenAnswer\r\n                    });\r\n                } \r\n                if (answer.answerType === \"MULTIPLE\") {\r\n                    let splitted = answer?.givenAnswer.split(',|')\r\n                    splitted.pop();\r\n                    splitted.map(sValue => (\r\n                        answer.choices.filter(choice => choice.text === sValue).map(aValue => (selectedAnswers.push(aValue.value)))\r\n                    ))\r\n                    form.setFieldsValue({\r\n                        givenAnswer: selectedAnswers\r\n                    });\r\n                }\r\n                if (answer.answerType === \"CHOOSE\") {\r\n                    answer.choices.filter(choice => choice.text === answer.givenAnswer).map(aValue => (selectedAnswer = aValue.value))\r\n                    form.setFieldsValue({\r\n                        givenAnswer: selectedAnswer\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }, [answer, form, question])\r\n\r\n    const [updateAnswer, { loading: updateLoading }] = useMutation(UPDATE_ANSWER, {\r\n        onCompleted: data => {\r\n            refetch();\r\n            next();\r\n        }\r\n    })\r\n\r\n    const onFinish = (valuess) => {\r\n        valuess.id = question.id;\r\n        if (question.answerType === 'MULTIPLE') {\r\n            valuess.givenAnswer = valuess.givenAnswer.map((values) => `${values}`).join(',');\r\n        }\r\n        updateAnswer({variables: valuess});\r\n    }\r\n\r\n    const finishTest = () => {\r\n        confirm({\r\n            title: \"Шалгалт дуусгах уу?\",\r\n            okText: \"Дуусгах\",\r\n            cancelText: \"Болих\",\r\n            onOk() {\r\n                setIsFinished(true)\r\n            },\r\n\t\t});\r\n    }\r\n\r\n    if (question === undefined) {\r\n        return <Result\r\n            title=\"Асуулт алга байна!\"\r\n        />\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <Title level={3}><IntlMessage id=\"question\" /> {page+1}</Title>\r\n            <Paragraph >\r\n                {question.questionText}\r\n            </Paragraph>\r\n            { answer.hint &&\r\n                <div>\r\n                    <Title type=\"secondary\" level={4}><IntlMessage id=\"question.hint\" /></Title>\r\n                    <Text type=\"secondary\">\r\n                        {answer.hint}\r\n                    </Text>\r\n                </div>\r\n            }\r\n            { answer.image &&\r\n                <div className=\"p-2\">\r\n                    <Image preview={false} style={{ maxHeight: '400px' }} className=\"img-fluid\" alt=\"Preview\" src={BASE_SERVER_URL+answer.image} />\r\n                </div>\r\n            }\r\n            <Form \r\n                {...layout} \r\n                layout=\"vertical\" \r\n                form={form} \r\n                name=\"control-hooks\" \r\n                onFinish={onFinish}\r\n                initialvaluess={{\r\n                    givenAnswer: question.givenAnswer\r\n                }}\r\n            >\r\n                {\r\n                    question.answerType === 'TEXT' ? (\r\n                        <Form.Item name=\"givenAnswer\" label={<IntlMessage id=\"question.answer\" />} rules={[\r\n                            {\r\n                                required: true,\r\n                                message: <IntlMessage id=\"form.required\" />\r\n                            },\r\n                        ]}>\r\n                            <TextArea rows={4} onChangeCapture={e => console.log(e.target.value)} />\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    question.answerType === 'CHOOSE' ? (\r\n                        <Form.Item name=\"givenAnswer\" label={<IntlMessage id=\"question.answer\" />} rules={[\r\n                            {\r\n                                required: true,\r\n                                message: <IntlMessage id=\"form.required\" />\r\n                            },\r\n                        ]}>\r\n                            <Radio.Group>\r\n                                <Space direction='vertical' >\r\n                                    {question.choices.map((choice, index) => (\r\n                                        <Radio value={choice.value} key={index} >{choice.text}</Radio>\r\n                                    ))}\r\n                                </Space>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    question.answerType === 'MULTIPLE' ? (\r\n                        <Form.Item name=\"givenAnswer\" label={<IntlMessage id=\"question.answer\" />} rules={[{ required: true }]}>\r\n                            <Checkbox.Group>\r\n                                    {question.choices.map((choice, index) => (\r\n                                        <Checkbox value={choice.value} key={index} >{choice.text}</Checkbox>\r\n                                    ))}\r\n                            </Checkbox.Group>\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                <Form.Item {...tailLayout}>\r\n                    <Button size='small' disabled={page < 1 && true} className=\"mr-2\" type=\"primary\" htmlType=\"button\" loading={updateLoading} onClick={() => prev()}>\r\n                        <LeftOutlined/>\r\n                        <IntlMessage id=\"main.previous\" />\r\n                    </Button>\r\n                    <Button size='small' disabled={page+1 === answers.length} type=\"danger\" className=\"mr-2\" htmlType=\"button\" loading={updateLoading} onClick={() => next()}>\r\n                        <DoubleRightOutlined />\r\n                        <IntlMessage id=\"main.skip\" />\r\n                    </Button>\r\n                    <Button size='small' disabled={page+1 === answers.length} className=\"mr-2\" type=\"primary\" htmlType=\"submit\" loading={updateLoading}>\r\n                        <IntlMessage id=\"main.next\" />\r\n                        <RightOutlined />\r\n                    </Button>\r\n                    { page+1 === answers.length &&\r\n                        <Button style={{float: 'right', background: \"#5aac44\", borderColor: \"#5aac44\", color: \"#fff\"}} size='small' className=\"mr-2\" type=\"danger\" htmlType=\"submit\" onClick={() => finishTest()}>\r\n                            <CheckOutlined />\r\n                            <IntlMessage id=\"main.finish-exam\" />\r\n                        </Button>\r\n                    }\r\n                </Form.Item>\r\n            </Form>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default ExamForm","import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useLazyQuery } from '@apollo/client';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Card, Col, Row, Statistic, Button, message } from 'antd';\r\nimport { START_TEST, TEST_TIME, FINISH_TEST } from 'graphql/test';\r\nimport moment from 'moment';\r\nimport ExamForm from './exam-form';\r\nimport Loading from 'components/shared-components/Loading';\r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\nimport { classNames } from 'utils';\r\n\r\nconst { Countdown } = Statistic;\r\n\r\nconst ExamButton = ({ order, type, onClick }) => {\r\n    return (\r\n        <button \r\n            onClick={onClick}\r\n            className={classNames(\r\n                type === 'current' ? 'bg-blue-500' : type === 'completed' ? 'bg-green-500' : type === 'uncompleted' ? 'bg-orange-500' : '',\r\n                'h-10 w-10 m-1 rounded-2 rounded-tl-4 text-white'\r\n            )}\r\n        >\r\n            {order}\r\n        </button>\r\n    )\r\n}\r\n\r\nconst Exam = () => {\r\n\r\n    const slug = useParams();\r\n    const history =  useHistory();\r\n\r\n    const [leftTime, setLeftTime] = useState(null);\r\n    const [isFinished, setIsFinished] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    const [page, setPage] = useState(0);\r\n    const [answers, setAnswers] = useState([]);\r\n\r\n    let filledForm = 0;\r\n\r\n    const [getTime] = useLazyQuery(TEST_TIME, {\r\n        onCompleted: data => {\r\n            const endAt = moment(data.testTime.endAt);\r\n            const startedAt = moment(data.testTime.started);\r\n            const current = moment();\r\n            if (moment.duration(endAt.diff(current)).asMilliseconds() < 0) {\r\n                return message.error('Хугацаа дууссан байна!')\r\n            } else {\r\n                if (moment(startedAt).add(data.testTime.duration, 'm').valueOf() <=  moment(endAt).valueOf()) {\r\n                    if (moment.duration(moment(startedAt).add(data.testTime.duration, 'm').diff(current)).asMilliseconds() < 0) {\r\n                        // setIsFinished(true);\r\n                    } else {\r\n                        setLeftTime(moment(startedAt).add(data.testTime.duration, 'm'))\r\n                    }\r\n                } else {\r\n                    setLeftTime(endAt)\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    const [finishTest] = useLazyQuery(FINISH_TEST, {\r\n        onCompleted: data => {\r\n            message.warning('Шалгалт дууссан!')\r\n            history.push({pathname: '/app/my-score', state: {message: data}})\r\n        }\r\n    })\r\n\r\n    const { refetch } = useQuery(START_TEST, {\r\n        variables: { takeTest: slug.test },\r\n        onCompleted: data => {\r\n            getTime({variables: { takeTest: slug.test }})\r\n            const newData = [];\r\n            if (data.startTest === null) {\r\n                setIsFinished(true);\r\n            } else {\r\n                data.startTest.map(function (item) {\r\n                    let allChoices = [];\r\n    \r\n                    if (item.answerType === ('CHOOSE') || item.answerType === ('MULTIPLE' )) {\r\n                        const choices = item.choices.split(',|')\r\n                        choices.pop();\r\n                        choices.map(function (e) {\r\n                            const splitted = e.split(':|');\r\n                            return allChoices.push({\r\n                                value: splitted[0],\r\n                                text: splitted[1]\r\n                            });\r\n                        });\r\n                    }\r\n                    return newData.push({\r\n                        hint: item.question.hint,\r\n                        image: item.question.image,\r\n                        answerType: item.answerType,\r\n                        givenAnswer: item.givenAnswer,\r\n                        id: item.id,\r\n                        questionText: item.questionText,\r\n                        choices: allChoices\r\n                    })\r\n                })\r\n                setAnswers(newData);\r\n                setLoading(false);\r\n            }\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (isFinished) {\r\n            finishTest({ variables: { takeTest: slug.test } })\r\n        }\r\n    }, [finishTest, isFinished, slug])\r\n\r\n    const handleChange = (value) => {\r\n        setPage(value);\r\n    }\r\n\r\n    const next = () => {\r\n        if (answers.length > page + 1) {\r\n            setPage(prevPage => (prevPage + 1))\r\n        }\r\n    }\r\n\r\n    const prev = () => {\r\n        setPage(prevPage => (prevPage - 1))\r\n    }\r\n\r\n    if (loading) {\r\n        return <Loading cover=\"content\" />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Row gutter={[8, 16]}>\r\n                <Col xs={24} xl={18}>\r\n                    <ExamForm \r\n                        answer={answers[page]}\r\n                        answers={answers}\r\n                        page={page}\r\n                        next={next}\r\n                        prev={prev}\r\n                        refetch={refetch}\r\n                        setIsFinished={setIsFinished}\r\n                    />\r\n                </Col>\r\n                <Col xs={24} xl={6}>\r\n                    <Card>\r\n                        <Countdown \r\n                            title={<span className='mb-4' ><IntlMessage id=\"exam.time-left\" /></span>}  \r\n                            value={leftTime} \r\n                            onFinish={() => setIsFinished(true)} \r\n                        />\r\n                    </Card>\r\n                    <Card\r\n                        title={<IntlMessage id=\"question\" />}\r\n                    >\r\n                        { answers.map(function (answer, index) {\r\n                            filledForm = filledForm + 1\r\n                            return (\r\n                                <ExamButton \r\n                                    key={index}\r\n                                    order={index+1}\r\n                                    type={\r\n                                        index === page ? \"current\" :\r\n                                        answer.givenAnswer !== \"\" ? \"completed\" :\r\n                                        \"uncompleted\"\r\n                                    }\r\n                                    onClick={() => handleChange(index)}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </Card>\r\n                    <Card\r\n                        title={<IntlMessage id=\"exam.recommendations\" />}\r\n                    >\r\n                        <div className='mt-2'>\r\n                            <ExamButton order={1} type=\"current\" />\r\n                            <IntlMessage id=\"exam.current\" />\r\n                        </div>\r\n                        <div className='mt-2'>\r\n                            <ExamButton order={1} type=\"completed\" />\r\n                            <IntlMessage id=\"exam.completed\" />\r\n                        </div>\r\n                        <div className='mt-2'>\r\n                            <ExamButton order={1} type=\"uncompleted\" />\r\n                            <IntlMessage id=\"exam.uncompleted\" />\r\n                        </div>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Exam;"],"names":["ALL_ONLINE_TESTS","gql","CREATE_ONLINE_TEST","UPDATE_ONLINE_TEST","DELETE_ONLINE_TEST","ALL_QUESTION_LEVELS","CREATE_QUESTION_LEVEL","UPDATE_QUESTION_LEVEL","DELETE_QUESTION_LEVEL","ALL_QUESTIONS_BY_TEST","CREATE_QUESTION","UPDATE_QUESTION","DELETE_QUESTION","CREATE_QUESTION_CHOICE","UPDATE_QUESTION_CHOICE","DELETE_QUESTION_CHOICE","ALL_TAKE_TEST","CREATE_TAKE_TEST","UPDATE_TAKE_TEST","DELETE_TAKE_TEST","ALL_PARTICIPANT_BY_TEST","CREATE_PARTICIPANT","DELETE_PARTICIPANT","ALL_TAKE_LEVEL","CREATE_TAKE_LEVEL","DELETE_TAKE_LEVEL","START_TEST","UPDATE_ANSWER","TEST_TIME","FINISH_TEST","Title","Typography","Paragraph","Text","TextArea","Input","confirm","Modal","layout","labelCol","span","wrapperCol","tailLayout","answer","refetch","next","prev","setIsFinished","page","answers","Form","form","useState","question","setQuestion","useEffect","selectedAnswers","selectedAnswer","givenAnswer","answerType","setFieldsValue","splitted","split","pop","map","sValue","choices","filter","choice","text","aValue","push","value","useMutation","onCompleted","data","updateAnswer","updateLoading","loading","undefined","title","level","IntlMessage","id","questionText","hint","type","image","className","preview","style","maxHeight","alt","src","BASE_SERVER_URL","name","onFinish","valuess","values","join","variables","initialvaluess","label","rules","required","message","rows","onChangeCapture","e","console","log","target","direction","index","size","disabled","htmlType","onClick","LeftOutlined","length","DoubleRightOutlined","RightOutlined","float","background","borderColor","color","okText","cancelText","onOk","CheckOutlined","Countdown","Statistic","ExamButton","order","classNames","slug","useParams","history","useHistory","leftTime","setLeftTime","isFinished","setLoading","setPage","setAnswers","useLazyQuery","endAt","moment","testTime","startedAt","started","current","diff","asMilliseconds","add","duration","valueOf","getTime","pathname","state","finishTest","useQuery","takeTest","test","newData","startTest","item","allChoices","Loading","cover","gutter","xs","xl","prevPage"],"sourceRoot":""}