"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[7669],{14997:function(n,t,o){o.d(t,{Qu:function(){return u},Y8:function(){return s},iI:function(){return c},uL:function(){return d}});var i,e,r,a,m=o(30168),l=o(27570),u=(0,l.Ps)(i||(i=(0,m.Z)(["\n    query allDiploms {\n        allDiploms {\n            id\n            name\n            mainMid\n            mainBottom1\n            mainBottom2\n            mainBottom3\n            mglMainMid\n            mglMainBottom1\n            mglMainBottom2\n            mglMainBottom3\n            mglMainBottom1Sub\n            mglMainBottom2Sub\n            mglMainBottom3Sub\n            markBottom1\n            markBottom2\n            mglMarkBottom1\n            mglMarkBottom2\n        }\n    }\n"]))),c=(0,l.Ps)(e||(e=(0,m.Z)(["\n    mutation createDiplom (\n        $mainBottom1: String!, \n        $mainBottom2: String!, \n        $mainBottom3: String!, \n        $mainMid: String!, \n        $markBottom1: String!, \n        $markBottom2: String!, \n        $mglMainBottom1: String!, \n        $mglMainBottom1Sub: String!, \n        $mglMainBottom2: String!, \n        $mglMainBottom2Sub: String!, \n        $mglMainBottom3: String!, \n        $mglMainBottom3Sub: String!, \n        $mglMainMid: String!, \n        $mglMarkBottom1: String!, \n        $mglMarkBottom2: String!, \n        $name: String!\n    ) \n    {\n        createDiplom (\n            mainBottom1: $mainBottom1, \n            mainBottom2: $mainBottom2, \n            mainBottom3: $mainBottom3, \n            mainMid: $mainMid, \n            markBottom1: $markBottom1, \n            markBottom2: $markBottom2, \n            mglMainBottom1: $mglMainBottom1, \n            mglMainBottom1Sub: $mglMainBottom1Sub, \n            mglMainBottom2: $mglMainBottom2, \n            mglMainBottom2Sub: $mglMainBottom2Sub, \n            mglMainBottom3: $mglMainBottom3, \n            mglMainBottom3Sub: $mglMainBottom3Sub, \n            mglMainMid: $mglMainMid, \n            mglMarkBottom1: $mglMarkBottom1, \n            mglMarkBottom2: $mglMarkBottom2, \n            name: $name\n        ) \n        {\n            diplom \n            {\n                name\n            }\n        }\n    }\n"]))),d=(0,l.Ps)(r||(r=(0,m.Z)(["\n    mutation updateDiplom (\n        $mainBottom1: String, \n        $mainBottom2: String, \n        $mainBottom3: String, \n        $mainMid: String, \n        $markBottom1: String, \n        $markBottom2: String, \n        $mglMainBottom1: String, \n        $mglMainBottom1Sub: String, \n        $mglMainBottom2: String, \n        $mglMainBottom2Sub: String, \n        $mglMainBottom3: String, \n        $mglMainBottom3Sub: String, \n        $mglMainMid: String, \n        $mglMarkBottom1: String, \n        $mglMarkBottom2: String, \n        $name: String,\n        $id: ID\n    ) \n    {\n        updateDiplom (\n            mainBottom1: $mainBottom1, \n            mainBottom2: $mainBottom2, \n            mainBottom3: $mainBottom3, \n            mainMid: $mainMid, \n            markBottom1: $markBottom1, \n            markBottom2: $markBottom2, \n            mglMainBottom1: $mglMainBottom1, \n            mglMainBottom1Sub: $mglMainBottom1Sub, \n            mglMainBottom2: $mglMainBottom2, \n            mglMainBottom2Sub: $mglMainBottom2Sub, \n            mglMainBottom3: $mglMainBottom3, \n            mglMainBottom3Sub: $mglMainBottom3Sub, \n            mglMainMid: $mglMainMid, \n            mglMarkBottom1: $mglMarkBottom1, \n            mglMarkBottom2: $mglMarkBottom2, \n            name: $name,\n            id: $id\n        ) \n        {\n            diplom \n            {\n                name\n            }\n        }\n    }\n"]))),s=(0,l.Ps)(a||(a=(0,m.Z)(["\n    mutation deleteDiplom ($id: ID) {\n        deleteDiplom (id: $id) {\n            diplom {\n                name\n            }\n        }\n    }\n"])))},19380:function(n,t,o){o.r(t),o.d(t,{default:function(){return k}});var i=o(72791),e=o(29439),r=o(20003),a=o(50419),m=o(87309),l=o(59432),u=o(36795),c=o(82464),d=o(31549),s=o(2703),g=o(84376),B=o(96578),M=o(14997),f=o(82630),v=o(64880),p=o(80184);var $=function(n){var t=(0,v.k6)(),o=(0,i.useState)([]),$=(0,e.Z)(o,2),S=$[0],h=$[1],k=r.Z.confirm,b=(0,g.D)(M.Y8,{onCompleted:function(n){a.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430"),C()}}),x=(0,e.Z)(b,2),Z=x[0],w=x[1].loading,y=(0,B.a)(M.Qu,{onCompleted:function(n){h(n.allDiploms)}}),j=y.loading,C=y.refetch,D=[{key:"name",title:(0,p.jsx)(f.Z,{id:"name"}),dataIndex:"name",sorter:function(n,t){return s.ZP.antdTableSorter(n,t,"name")}},{key:"actions",title:(0,p.jsx)(f.Z,{id:"main.action"}),width:"20vw",dataIndex:"actions",render:function(o,i){return(0,p.jsxs)("div",{className:"text-center",children:[!0===n.permissions.edit&&(0,p.jsxs)(m.Z,{size:"small",type:"text",onClick:function(){return n=i,void t.push({pathname:"/app/configs/diplom/edit",state:{type:"update",data:n}});var n},children:[(0,p.jsx)(u.Z,{twoToneColor:"#ffdb00"}),(0,p.jsxs)("span",{className:"ml-2",children:[" ",(0,p.jsx)(f.Z,{id:"edit"})]})]},"2"),!0===n.permissions.destroy&&(0,p.jsxs)(m.Z,{size:"small",type:"text",onClick:function(){return n=i,void k({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){Z({variables:{id:n.id}})}});var n},children:[(0,p.jsx)(c.Z,{twoToneColor:"#f42f2f"}),(0,p.jsxs)("span",{className:"ml-2",children:[" ",(0,p.jsx)(f.Z,{id:"delete"})]})]},"3")]})}}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"text-right",children:(0,p.jsxs)(m.Z,{onClick:function(){return t.push({pathname:"/app/configs/diplom/create",state:{type:"create"}})},type:"primary",icon:(0,p.jsx)(d.Z,{}),children:[" ",(0,p.jsx)(f.Z,{id:"add_new"})]})}),(0,p.jsx)("div",{className:"table-responsive mt-4",children:(0,p.jsx)(l.Z,{columns:D,dataSource:S,size:"small",rowKey:"id",bordered:!0,loading:j||w})})]})},S=o(59288),h=o(38937),k=function(){var n={create:(0,S.C)("add_degree"),edit:(0,S.C)("change_degree"),destroy:(0,S.C)("delete_degree")};return Object.values(n).indexOf("loading")>-1?(0,p.jsx)(h.Z,{cover:"content"}):(0,p.jsx)($,{permissions:n})}},82464:function(n,t,o){o.d(t,{Z:function(){return l}});var i=o(1413),e=o(72791),r={icon:function(n,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:n}}]}},name:"delete",theme:"twotone"},a=o(8711),m=function(n,t){return e.createElement(a.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:r}))};m.displayName="DeleteTwoTone";var l=e.forwardRef(m)},36795:function(n,t,o){o.d(t,{Z:function(){return l}});var i=o(1413),e=o(72791),r={icon:function(n,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:n}}]}},name:"edit",theme:"twotone"},a=o(8711),m=function(n,t){return e.createElement(a.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:r}))};m.displayName="EditTwoTone";var l=e.forwardRef(m)},31549:function(n,t,o){o.d(t,{Z:function(){return l}});var i=o(1413),e=o(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=o(8711),m=function(n,t){return e.createElement(a.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:r}))};m.displayName="PlusCircleOutlined";var l=e.forwardRef(m)},96096:function(n,t,o){o.d(t,{GL:function(){return a},fk:function(){return m},jD:function(){return r}});var i,e=o(14937),r=function(){return(0,e.Z)()&&window.document.documentElement},a=function(n){if(r()){var t=Array.isArray(n)?n:[n],o=window.document.documentElement;return t.some((function(n){return n in o.style}))}return!1},m=function(){if(!r())return!1;if(void 0!==i)return i;var n=document.createElement("div");return n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),document.body.appendChild(n),i=1===n.scrollHeight,document.body.removeChild(n),i}},84376:function(n,t,o){o.d(t,{D:function(){return c}});var i=o(3431),e=o(72791),r=o(63124),a=o(5970),m=o(72364),l=o(29484),u=o(65046);function c(n,t){var o=(0,u.x)(null===t||void 0===t?void 0:t.client);(0,m.Vp)(n,m.n_.Mutation);var c=(0,e.useState)({called:!1,loading:!1,client:o}),d=c[0],s=c[1],g=(0,e.useRef)({result:d,mutationId:0,isMounted:!0,client:o,mutation:n,options:t});Object.assign(g.current,{client:o,options:t,mutation:n});var B=(0,e.useCallback)((function(n){void 0===n&&(n={});var t=g.current,o=t.client,e=t.options,m=t.mutation,u=(0,i.pi)((0,i.pi)({},e),{mutation:m});g.current.result.loading||u.ignoreResults||!g.current.isMounted||s(g.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:o});var c=++g.current.mutationId,d=(0,r.J)(u,n);return o.mutate(d).then((function(t){var i,e,r,m=t.data,u=t.errors,B=u&&u.length>0?new l.c({graphQLErrors:u}):void 0;if(c===g.current.mutationId&&!d.ignoreResults){var M={called:!0,loading:!1,data:m,error:B,client:o};g.current.isMounted&&!(0,a.D)(g.current.result,M)&&s(g.current.result=M)}return null===(e=null===(i=g.current.options)||void 0===i?void 0:i.onCompleted)||void 0===e||e.call(i,t.data,d),null===(r=n.onCompleted)||void 0===r||r.call(n,t.data,d),t})).catch((function(t){var i,e,r,m;if(c===g.current.mutationId&&g.current.isMounted){var l={loading:!1,error:t,data:void 0,called:!0,client:o};(0,a.D)(g.current.result,l)||s(g.current.result=l)}if((null===(i=g.current.options)||void 0===i?void 0:i.onError)||d.onError)return null===(r=null===(e=g.current.options)||void 0===e?void 0:e.onError)||void 0===r||r.call(e,t,d),null===(m=n.onError)||void 0===m||m.call(n,t,d),{data:void 0,errors:t};throw t}))}),[]),M=(0,e.useCallback)((function(){g.current.isMounted&&s({called:!1,loading:!1,client:o})}),[]);return(0,e.useEffect)((function(){return g.current.isMounted=!0,function(){g.current.isMounted=!1}}),[]),[B,(0,i.pi)({reset:M},d)]}}}]);
//# sourceMappingURL=7669.e7ac3144.chunk.js.map