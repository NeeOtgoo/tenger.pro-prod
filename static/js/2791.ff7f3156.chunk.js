"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[2791],{96679:function(t,n,e){e.d(n,{m:function(){return r}});var r="http://66.181.175.235:8001"},68120:function(t,n,e){e.d(n,{$h:function(){return D},H1:function(){return P},L8:function(){return M},R4:function(){return E},S8:function(){return L},Vw:function(){return A},Xc:function(){return R},_W:function(){return B},be:function(){return q},d3:function(){return w},d6:function(){return V},ey:function(){return _},fJ:function(){return C},iF:function(){return F},kk:function(){return N},sF:function(){return H},ux:function(){return T},yC:function(){return v},zX:function(){return I}});var r,a,s,i,o,c,d,l,u,m,x,f,h,p,j,g,k,$,b,y,S=e(30168),Z=e(27570),M=(0,Z.Ps)(r||(r=(0,S.Z)(["\n    query allMarks ($markBoard: Int!) {\n        allMarks (markBoard: $markBoard) {\n            id\n            student {\n                id\n                familyName\n                name\n                studentCode\n                classes {\n                    classes\n                }\n                section {\n                    section\n                }\n            }\n            markRelSet {\n                markVal\n                markSetting {\n                    id\n                    name\n                }\n            }\n            markBoard {\n                subject {\n                    subject\n                }\n            }\n        }\n    }\n"]))),C=(0,Z.Ps)(a||(a=(0,S.Z)(["\n    mutation createMark ($section: Int = 0, $studentCode: String, $markBoard: Int) {\n        createMark (section: $section, studentCode: $studentCode, markBoard: $markBoard) {\n            mark {\n                id\n            }\n        }\n    }\n"]))),I=(0,Z.Ps)(s||(s=(0,S.Z)(["\n    mutation deleteMark ($id: ID) {\n        deleteMark (id: $id) {\n            mark {\n                student {\n                    id\n                }\n            }\n        }\n    }\n"]))),N=(0,Z.Ps)(i||(i=(0,S.Z)(["\n    mutation createMarkRel ($mark: Int, $markSetting: Int, $markVal: String) {\n        createMarkRel (mark: $mark, markSetting: $markSetting, markVal: $markVal) {\n            markRel {\n                id\n                markVal\n                markSetting {\n                    id\n                    name\n                }\n            }\n        }\n    }\n"]))),P=((0,Z.Ps)(o||(o=(0,S.Z)(["\n    query allMarkRels ($mark: Int!) {\n        allMarkRels (mark: $mark) {\n            mark {\n                student {\n                    id\n                    studentCode\n                }\n            }\n            markSetting {\n                name\n                percentage\n            }\n            markVal\n        }\n    }\n"]))),(0,Z.Ps)(c||(c=(0,S.Z)(["\n    query allMarkPercentages {\n        allMarkPercentages {\n            id\n            type\n            percentage\n            diam\n        }\n    }\n"])))),v=(0,Z.Ps)(d||(d=(0,S.Z)(["\n    mutation createMarkPercentage ($diam: String, $percentage: Int, $type: String) {\n        createMarkPercentage (diam: $diam, percentage: $percentage, type: $type) {\n            markPercentage {\n                type\n            }\n        }\n    }\n"]))),w=(0,Z.Ps)(l||(l=(0,S.Z)(["\n    mutation updateMarkPercentage ($diam: String, $percentage: Int, $type: String, $id: ID) {\n        updateMarkPercentage (diam: $diam, percentage: $percentage, type: $type, id: $id) {\n            markPercentage {\n                type\n            }\n        }\n    }\n"]))),B=(0,Z.Ps)(u||(u=(0,S.Z)(["\n    mutation deleteMarkPercentage ($id: ID) {\n        deleteMarkPercentage (id: $id) {\n            markPercentage {\n                type\n            }\n        }\n    }\n"]))),A=(0,Z.Ps)(m||(m=(0,S.Z)(["\n    query markBoardById ($id: Int!) {\n        markBoardById (id: $id) {\n            id\n            schoolyear {\n                id\n                schoolyear\n            }\n            subject {\n                id\n                part\n                subject\n            }\n            teacher {\n                id\n                name\n            }\n            startAt \n            endAt\n            status\n            createdAt\n            updatedAt\n        }\n    }\n"]))),R=(0,Z.Ps)(x||(x=(0,S.Z)(['\n    query allMarkBoards ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "mark", modelName: "Mark_board", filter: $filter) {\n            count\n        }\n        allMarkBoards (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            schoolyear {\n                id\n                schoolyear\n                season\n            }\n            subject {\n                id\n                subject\n            }\n            teacher {\n                id\n                name\n            }\n            startAt \n            endAt\n            status\n            createdAt\n            updatedAt\n        }\n    }\n']))),q=(0,Z.Ps)(f||(f=(0,S.Z)(["\n    mutation createMarkBoardFromRoutine ($endAt: String, $routine: Int, $startAt: String, $status: String) {\n        createMarkBoardFromRoutine (endAt: $endAt, routine: $routine, startAt: $startAt, status: $status) {\n            markBoard {\n                id\n            }\n        }\n    }\n"]))),V=(0,Z.Ps)(h||(h=(0,S.Z)(["\n    mutation createMarkBoard ($endAt: String, $schoolyear: Int, $startAt: String, $status: String, $subject: Int, $teacher: Int) {\n        createMarkBoard (endAt: $endAt, schoolyear: $schoolyear, startAt: $startAt, status: $status, subject: $subject, teacher: $teacher) {\n            markBoard {\n                id\n            }\n        }\n    }\n"]))),T=(0,Z.Ps)(p||(p=(0,S.Z)(["\n    mutation updateMarkBoard ($endAt: String, $schoolyear: Int, $startAt: String, $status: String, $subject: Int, $teacher: Int, $id: ID) {\n        updateMarkBoard (endAt: $endAt, schoolyear: $schoolyear, startAt: $startAt, status: $status, subject: $subject, teacher: $teacher, id: $id) {\n            markBoard {\n                id\n            }\n        }\n    }\n"]))),F=(0,Z.Ps)(j||(j=(0,S.Z)(["\n    mutation deleteMarkBoard ($id: ID) {\n        deleteMarkBoard (id: $id) {\n            markBoard {\n                startAt\n            }\n        }\n    }\n"]))),D=(0,Z.Ps)(g||(g=(0,S.Z)(["\n    query allMarkSettings {\n        allMarkSettings {\n            id\n            name\n            part\n            passVal\n            percentage\n        }\n    }\n"]))),E=(0,Z.Ps)(k||(k=(0,S.Z)(["\n    query markSettingsByPart ($part: String!) {\n        markSettingsByPart (part: $part) {\n            id\n            name\n            part\n            passVal\n            percentage\n        }\n    }\n"]))),_=(0,Z.Ps)($||($=(0,S.Z)(["\n    mutation createMarkSetting ($name: String, $percentage: Int, $part: String, $passVal: Int) {\n        createMarkSetting (name: $name, percentage: $percentage, part: $part, passVal: $passVal) {\n            markSetting {\n                id\n            }\n        }\n    }\n"]))),L=(0,Z.Ps)(b||(b=(0,S.Z)(["\n    mutation updateMarkSetting ($name: String, $percentage: Int, $id: ID, $part: String, $passVal: Int) {\n        updateMarkSetting (name: $name, percentage: $percentage, id: $id, part: $part, passVal: $passVal) {\n            markSetting {\n                id\n            }\n        }\n    }\n"]))),H=(0,Z.Ps)(y||(y=(0,S.Z)(["\n    mutation deleteMarkSetting($id: ID) {\n        deleteMarkSetting (id: $id) {\n            markSetting {\n                name\n            }\n        }\n    }\n"])))},41963:function(t,n,e){e.d(n,{Hi:function(){return $},Vm:function(){return y},WP:function(){return S},Z:function(){return Z},ar:function(){return k},iX:function(){return C},nA:function(){return I},qv:function(){return M},rd:function(){return b}});var r,a,s,i,o,c,d,l,u,m,x,f,h,p,j=e(30168),g=e(27570),k=(0,g.Ps)(r||(r=(0,j.Z)(["\n    query studentReport ($studentCode: String) {\n        studentReport (studentCode: $studentCode) {\n            school\n            textTop\n            textMid\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"]))),$=(0,g.Ps)(a||(a=(0,j.Z)(["\n    query studentReportSection ($section: Int) {\n        studentReportSection (section: $section) {\n            school\n            textTop\n            textMid\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"]))),b=((0,g.Ps)(s||(s=(0,j.Z)(["\n    query allSections {\n        allSections {\n            id\n            section\n        }\n    }\n"]))),(0,g.Ps)(i||(i=(0,j.Z)(["\n    query studentMarkReport ($studentCode: String) {\n        studentMarkReport (studentCode: $studentCode) {\n            school\n            textTop\n            textMid0\n            textMid1\n            textMid2\n            textMid3\n            textMid4\n            textMid5\n            textMid6\n            textMid7\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"])))),y=(0,g.Ps)(o||(o=(0,j.Z)(["\n    query studentMarkReportSection ($section: Int) {\n        studentMarkReportSection (section: $section) {\n            school\n            textTop\n            textMid0\n            textMid1\n            textMid2\n            textMid3\n            textMid4\n            textMid5\n            textMid6\n            textMid7\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n"]))),S=(0,g.Ps)(c||(c=(0,j.Z)(["\n    query studentSchoolyear ($student: Int) {\n        studentSchoolyear (student: $student) {\n            id\n            schoolyear\n            season\n            semesterCode\n            startDate\n            endDate\n        }\n    }\n"]))),Z=(0,g.Ps)(d||(d=(0,j.Z)(["\n    query studentMark ($student: Int, $schoolyear: Int, $part: String) {\n        studentMark (student: $student, schoolyear: $schoolyear, part: $part) {\n            id\n            markBoard {\n                subject {\n                    subject \n                    subjectCode\n                    credit\n                }\n            }\n            markRelSet {\n                markSetting {\n                    name\n                }\n                markVal\n            }\n        }\n    }\n"]))),M=((0,g.Ps)(l||(l=(0,j.Z)(["\n    query studentMarkRel ($student: Int, $schoolyear: Int) {\n        studentMarkRel (student: $student, schoolyear: $schoolyear) {\n            id\n            mark {\n                student {\n                    studentCode \n                }\n                markBoard {\n                    subject {\n                        id\n                        subject\n                        subjectCode\n                        credit\n                    }\n                    schoolyear {\n                        schoolyear \n                        season\n                    }\n                }\n            }\n            markSetting {\n                name\n                percentage\n            }\n            markVal\n        }\n    }\n"]))),(0,g.Ps)(u||(u=(0,j.Z)(["\n    query markPercentage ($percentage: Int) {\n        markPercentage (percentage: $percentage) {\n            type\n            percentage\n            diam\n        }\n    }\n"]))),(0,g.Ps)(m||(m=(0,j.Z)(["\n    query markCon ($subject: Int!, $schoolyear: Int!, $student: Int!) {\n        markCon (subject: $subject, schoolyear: $schoolyear, student: $student) {\n            percentage\n            markRel {\n                markVal\n                markSetting\n            }\n            diam\n        }\n    }\n"])))),C=((0,g.Ps)(x||(x=(0,j.Z)(["\n    query markconSubject ($schoolyear: Int!, $section: Int!, $part: String!) {\n        markconSubject (schoolyear: $schoolyear, section: $section, part: $part) {\n            subjectId\n            subject\n            subjectCode\n            subjectCredit\n        }\n    }\n"]))),(0,g.Ps)(f||(f=(0,j.Z)(["\n    query markconStudent ($section: Int!) {\n        markconStudent (section: $section) {\n            studentId\n            familyName\n            name\n            studentCode\n            registerNo\n        }\n    }\n"]))),(0,g.Ps)(h||(h=(0,j.Z)(['\n    query markConQuery ($section: Int!, $schoolyear: Int!) {\n        markconSubjectA: markconSubject (schoolyear: $schoolyear, section: $section, part: "A") {\n            subjectId \n            subject\n            subjectCode\n            subjectCredit\n        }\n        markconSubjectB: markconSubject (schoolyear: $schoolyear, section: $section, part: "B") {\n            subjectId \n            subject\n            subjectCode\n            subjectCredit\n        }\n        markconSubjectC: markconSubject (schoolyear: $schoolyear, section: $section, part: "C") {\n            subjectId \n            subject\n            subjectCode\n            subjectCredit\n        }\n        markconStudent (section: $section) {\n            studentId\n            familyName\n            name\n            studentCode\n            registerNo\n        }\n    },\n'])))),I=(0,g.Ps)(p||(p=(0,j.Z)(["\n    query allStudentsReport {\n        allStudentsReport {\n            id\n            user {\n                id\n                username\n                email\n            }\n            studentCode\n            surname\n            familyName\n            familyNameMgl\n            name\n            nameMgl\n            religion\n            registerNo\n            nationality\n            state\n            photo\n            phone\n            phone2\n            address\n            citizen\n            degree {\n                id\n                name\n            }\n            activity {\n                id\n                name\n            }\n            joinDate\n            joinBefore\n            sex\n            birthdate\n            classtime {\n                id\n                name\n            }\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            program {\n                id\n                program\n            }\n            joinSchoolyear {\n                id\n                schoolyear\n            }\n        }\n    }\n"])))},68694:function(t,n,e){e.d(n,{Cm:function(){return f},Cx:function(){return m},FQ:function(){return x},JX:function(){return u},dT:function(){return h},tL:function(){return p}});var r,a,s,i,o,c,d=e(30168),l=e(27570),u=(0,l.Ps)(r||(r=(0,d.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),m=(0,l.Ps)(a||(a=(0,d.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),x=(0,l.Ps)(s||(s=(0,d.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n            classesNumeric\n        }\n\t}\n"]))),f=(0,l.Ps)(i||(i=(0,d.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject \n            subjectCode\n            credit\n        }\n    }\n']))),h=(0,l.Ps)(o||(o=(0,d.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n            programNumeric\n        }\n    }\n"]))),p=(0,l.Ps)(c||(c=(0,d.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"])))},95448:function(t,n,e){e.r(n),e.d(n,{default:function(){return w}});var r=e(29439),a=e(72791),s=e(96578),i=e(86586),o=e(22949),c=e(73332),d=e(77063),l=e(87309),u=e(58361),m=e(66106),x=e(30914),f=e(66871),h=e(69421),p=e(61146),j=e(41963),g=e(78803),k=e(96679),$=e(68120),b=e(80184),y=function(t){var n=t.data,e=t.settings,r=t.setTotalCredit,s=t.schoolyear,i=t.part;function o(t,n,e){return t>=n&&t<=e}return(0,a.useEffect)((function(){r((function(t){return Math.floor(t)+Math.floor(n.markBoard.subject.credit)}))}),[n]),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"text-center",children:s.schoolyear}),(0,b.jsx)("td",{className:"text-center",children:s.season}),(0,b.jsx)("td",{className:"text-center",children:n.markBoard.subject.subjectCode}),(0,b.jsx)("td",{className:"text-center",children:n.markBoard.subject.subject}),(0,b.jsx)("td",{className:"text-center",children:Math.floor(n.markBoard.subject.credit)}),e.map((function(t,e){var r,a=null===(r=n.markRelSet.find((function(n){return n.markSetting.name===t.name})))||void 0===r?void 0:r.markVal;return(0,b.jsx)("td",{className:"text-center",children:a&&Math.floor(a)},e)})),"C"!==i&&(0,b.jsx)("td",{className:"text-center",children:n.markRelSet.reduce((function(t,n){return Math.floor(t)+Math.floor(n.markVal)}),0)}),(0,b.jsx)("td",{className:"text-center",children:function(t){var r=t.value;if(n.markRelSet.length!==e.length)return null;if("A"===i)switch(!0){case o(r,0,29):return"I";case o(r,30,39):return"II";case o(r,40,49):return"III";case o(r,50,59):return"IV";case o(r,60,69):return"V";case o(r,70,79):return"VI";case o(r,80,89):return"VII";case o(r,90,100):return"VIII";default:return null}else if("B"===i)switch(!0){case o(r,0,59):return"F";case o(r,60,63):return"D-";case o(r,64,67):return"D";case o(r,68,70):return"D+";case o(r,71,73):return"C-";case o(r,74,77):return"C";case o(r,78,80):return"C+";case o(r,81,83):return"B-";case o(r,84,87):return"B";case o(r,88,90):return"B+";case o(r,91,95):return"A-";case o(r,96,100):return"A";default:return null}else if("C"===i){var a=e.map((function(t){return n.markRelSet.every((function(n){return n.markSetting.name!==t.name||function(t,n){return t>=n}(n.markVal,t.passVal)}))}));return console.log(a),a.every((function(t){return!0===t}))?"\u0427\u0430\u0434\u0430\u043c\u0436\u0442\u0430\u0439":"\u0425\u0430\u0440\u0430\u0430\u0445\u0430\u043d \u0447\u0430\u0434\u0430\u043c\u0436 \u044d\u0437\u044d\u043c\u0448\u044d\u044d\u0433\u04af\u0439"}}({value:n.markRelSet.reduce((function(t,n){return Math.floor(t)+Math.floor(n.markVal)}),0)})})]})},S=function(t){var n=t.columns,e=t.data,i=t.setTotalCredit,o=t.student,c=t.part,d=(0,a.useState)([]),l=(0,r.Z)(d,2),u=l[0],m=l[1],x=(0,a.useState)([]),f=(0,r.Z)(x,2),h=f[0],p=f[1];return(0,s.a)(j.Z,{variables:{student:o,schoolyear:e.id,part:c},onCompleted:function(t){m(t.studentMark)}}),(0,s.a)($.R4,{variables:{part:c},onCompleted:function(t){p(t.markSettingsByPart)}}),u.length>0&&(0,b.jsxs)("table",{className:"w-full mt-4",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[n.map((function(t,n){return(0,b.jsx)("th",{className:"w-44",children:t.title},n)})),h.map((function(t,n){return(0,b.jsx)("th",{className:"w-20",children:t.name},n)})),"C"!==c&&(0,b.jsx)("th",{className:"w-20",children:"\u0414\u04af\u043d"}),(0,b.jsx)("th",{className:"w-20",children:"\u0422\u04af\u0432\u0448\u0438\u043d"})]})}),(0,b.jsx)("tbody",{children:u.map((function(t,n){return(0,b.jsx)(y,{part:c,settings:h,schoolyear:e,setTotalCredit:i,data:t},n)}))})]})},Z=e(38937),M=e(1857),C=a.forwardRef((function(t,n){var e=t.data,i=(0,a.useState)([]),o=(0,r.Z)(i,2),c=o[0],d=o[1],l=(0,a.useState)(0),u=(0,r.Z)(l,2),m=u[0],x=u[1],f=(0,s.a)(j.WP,{variables:{student:e.textMid0},onCompleted:function(t){d(t.studentSchoolyear)}}),h=f.loading,p=(0,M.Z)().domainData,g=[{title:"\u0425\u0438\u0447\u044d\u044d\u043b\u0438\u0439\u043d \u0436\u0438\u043b"},{title:"\u0423\u043b\u0438\u0440\u0430\u043b"},{title:"\u041a\u043e\u0434"},{title:"\u0425\u0438\u0447\u044d\u044d\u043b"},{title:"\u0411\u0430\u0433\u0446 \u0446\u0430\u0433"}];return h?(0,b.jsx)(Z.Z,{cover:"content"}):(0,b.jsxs)("div",{ref:n,children:[(0,b.jsx)("style",{children:"table, th, td {border: 1px solid black }"}),(0,b.jsxs)("div",{className:"page-break p-5 flex flex-col justify-center bg-white rounded-2 text-black",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center justify-around",children:[(0,b.jsx)("img",{className:"w-24",src:p.logo,alt:e.studentCode}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-black",children:e.school}),(0,b.jsx)("div",{className:"text-center mt-3 text-xs",dangerouslySetInnerHTML:{__html:e.textTop}})]}),(0,b.jsx)("img",{className:"w-24",src:k.m+e.studentPhoto,alt:e.studentPhoto})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("p",{className:"font-bold text-center w-full text-black text-2xl",children:"\u0414\u04af\u043d\u0433\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b"}),(0,b.jsxs)("div",{className:"mt-4 grid grid-rows-5 grid-cols-2 grid-flow-col",children:[(0,b.jsxs)("div",{className:"flex flex-row justify-around text-start w-full",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u042d\u0446\u044d\u0433/\u044d\u0445\u0438\u0439\u043d \u043d\u044d\u0440"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid1})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u04e8\u04e9\u0440\u0438\u0439\u043d \u043d\u044d\u0440"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid2})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0439\u043d \u0434\u0443\u0433\u0430\u0430\u0440"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid3})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0434\u0443\u0433\u0430\u0430\u0440"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.studentCode})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u0425\u0438\u0447\u044d\u044d\u043b\u0438\u0439\u043d \u0436\u0438\u043b"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid4})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u0425\u04e9\u0442\u04e9\u043b\u0431\u04e9\u0440\u0438\u0439\u043d \u0438\u043d\u0434\u0435\u043a\u0441"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid5})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u0425\u04e9\u0442\u04e9\u043b\u0431\u04e9\u0440"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid6})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u0417\u044d\u0440\u044d\u0433"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:e.textMid7})]}),(0,b.jsxs)("div",{className:"flex flex-row justify-around",children:[(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2",children:"\u041d\u0438\u0439\u0442 \u0431\u0430\u0433\u0446 \u0446\u0430\u0433"}),(0,b.jsx)("p",{className:"mb-0 text-black text-lg text-start w-1/2 font-semibold",children:m})]})]}),c.map((function(t,n){return(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(S,{student:e.textMid0,columns:g,setTotalCredit:x,data:t,part:"A"}),(0,b.jsx)(S,{student:e.textMid0,columns:g,setTotalCredit:x,data:t,part:"B"}),(0,b.jsx)(S,{student:e.textMid0,columns:g,setTotalCredit:x,data:t,part:"C"})]},n)})),(0,b.jsxs)("div",{className:"mt-4 text-center",children:[(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:e.textBottom}}),(0,b.jsx)("img",{className:"mx-auto",src:"https://chart.googleapis.com/chart?chs=177x177&cht=qr&chl=http%3A%2F%2F".concat(window.location.hostname,"%2Fstudent-mark-report%2F").concat(e.studentCode,"&chld=H&choe=UTF-8")})]})]})]})]})})),I=e(82630),N=e(68694),P=e(53719),v=o.Z.Option,w=function(){var t=c.Z.useForm(),n=(0,r.Z)(t,1)[0],e=c.Z.useForm(),k=(0,r.Z)(e,1)[0],$=(0,a.useState)([]),y=(0,r.Z)($,2),S=y[0],M=y[1],w=(0,a.useState)([]),B=(0,r.Z)(w,2),A=B[0],R=B[1],q=(0,a.useState)([]),V=(0,r.Z)(q,2),T=V[0],F=V[1],D=(0,a.useContext)(P.S).user,E=(0,s.a)(N.dT,{onCompleted:function(t){M(t.allPrograms)}}).loading,_=(0,i.t)(N.tL,{onCompleted:function(t){R(t.sectionsByProgram)}}),L=(0,r.Z)(_,2),H=L[0],O=L[1].loading,X=(0,i.t)(N.JX,{onCompleted:function(t){F(t.allStudents)}}),J=(0,r.Z)(X,2),W=J[0],z=J[1].loading,G=(0,a.useState)([]),Q=(0,r.Z)(G,2),U=Q[0],K=Q[1],Y=(0,i.t)(j.rd,{onError:function(t){K([])},onCompleted:function(t){K([t.studentMarkReport])}}),tt=(0,r.Z)(Y,2),nt=tt[0],et=tt[1],rt=et.error,at=et.loading,st=(0,i.t)(j.Vm,{onError:function(t){K([])},onCompleted:function(t){K(t.studentMarkReportSection)}}),it=(0,r.Z)(st,2),ot=it[0],ct=it[1],dt=ct.error,lt=ct.loading,ut=(0,a.useRef)(),mt=(0,p.useReactToPrint)({content:function(){return ut.current}}),xt=function(t){t.hasOwnProperty("studentCode")?nt({variables:{studentCode:t.studentCode}}):ot({variables:{section:t.section}})};(0,a.useEffect)((function(){!0===D.isStudent&&nt({variables:{studentCode:D.student.studentCode}})}),[nt,D]);var ft=function(){return rt||dt?(0,b.jsx)(d.ZP,{status:"404",title:"404",subTitle:"\u041c\u044d\u0434\u044d\u044d\u043b\u044d\u043b \u043e\u043b\u0434\u0441\u043e\u043d\u0433\u04af\u0439"}):U.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)(l.Z,{onClick:mt,type:"primary",icon:(0,b.jsx)(g.Z,{}),children:[" ",(0,b.jsx)(I.Z,{id:"print"})," "]})}),(0,b.jsx)("div",{ref:ut,className:"mt-4",children:U.map((function(t,n){return(0,b.jsx)(C,{data:t},n)}))})]})};return(0,b.jsxs)("div",{children:[!1===D.isStudent&&(0,b.jsx)(u.Z,{active:!0,loading:E,children:(0,b.jsxs)(m.Z,{gutter:16,children:[(0,b.jsx)(x.Z,{xs:24,xl:12,children:(0,b.jsx)(f.Z,{className:"mt-4",title:(0,b.jsx)(I.Z,{id:"by-section"}),children:(0,b.jsxs)(c.Z,{id:"section",layout:"vertical",form:n,name:"control-hooks",onFinish:xt,children:[(0,b.jsx)(c.Z.Item,{name:"program",label:(0,b.jsx)(I.Z,{id:"program"}),rules:[{required:!0,message:(0,b.jsx)(I.Z,{id:"form.required"})}],children:(0,b.jsx)(o.Z,{onSelect:function(t){n.setFieldsValue({section:""}),H({variables:{program:t}})},allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(t,n){return n.children.toString().toLowerCase().indexOf(t.toLowerCase())>=0},children:S.map((function(t,n){return(0,b.jsxs)(v,{value:t.id,children:[t.program," / ",t.programNumeric]},n)}))})}),(0,b.jsx)(c.Z.Item,{name:"section",label:(0,b.jsx)(I.Z,{id:"section"}),rules:[{required:!0,message:(0,b.jsx)(I.Z,{id:"form.required"})}],children:(0,b.jsx)(o.Z,{allowClear:!0,notFoundContent:O?(0,b.jsx)(Z.Z,{cover:"content"}):(0,b.jsx)(h.Z,{image:h.Z.PRESENTED_IMAGE_SIMPLE}),children:A.map((function(t,n){return(0,b.jsxs)(v,{value:t.id,children:[t.classes.classes," / ",t.section]},n)}))})}),(0,b.jsx)(c.Z.Item,{className:"text-right",children:(0,b.jsx)(l.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:lt,children:"\u0421\u043e\u043d\u0433\u043e\u0445"})})]})})}),(0,b.jsx)(x.Z,{xs:24,xl:12,children:(0,b.jsx)(f.Z,{className:"mt-4",title:(0,b.jsx)(I.Z,{id:"by-student-code"}),children:(0,b.jsxs)(c.Z,{id:"student",layout:"vertical",form:k,name:"control-hooks",onFinish:xt,children:[(0,b.jsx)(c.Z.Item,{name:"studentCode",label:(0,b.jsx)(I.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,b.jsx)(I.Z,{id:"form.required"})}],children:(0,b.jsx)(o.Z,{showSearch:!0,filterOption:!1,notFoundContent:z?(0,b.jsx)(Z.Z,{cover:"content"}):(0,b.jsx)(h.Z,{image:h.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(t){""===t?F([]):W({variables:{offset:0,limit:99999999,filter:t}})},children:T.map((function(t,n){return(0,b.jsxs)(v,{value:t.studentCode,children:[" ",t.familyName," ",t.name," / ",t.studentCode]},n)}))})}),(0,b.jsx)(c.Z.Item,{className:"text-right",children:(0,b.jsx)(l.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:at,children:"\u0421\u043e\u043d\u0433\u043e\u0445"})})]})})})]})}),(0,b.jsx)(ft,{})]})}},19581:function(t,n,e){e.d(n,{Z:function(){return s}});var r=e(29439),a=e(72791);function s(){var t=a.useReducer((function(t){return t+1}),0);return(0,r.Z)(t,2)[1]}}}]);
//# sourceMappingURL=2791.ff7f3156.chunk.js.map