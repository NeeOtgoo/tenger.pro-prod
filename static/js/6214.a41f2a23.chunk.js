"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[6214],{74213:function(n,e,i){var t=i(93433),s=i(29439),l=i(72791),o=i(36795),r=i(82464),a=i(20003),d=i(50419),c=i(84376),u=i(25566),f=i(67471),m=i(80184),x=a.Z.confirm;e.Z=function(n){var e=n.data,i=n.setFolder,a=n.setFolderHistory,p=n.refetch,b=(0,l.useState)({x:0,y:0}),j=(0,s.Z)(b,2),h=j[0],g=j[1],Z=(0,l.useState)(!1),v=(0,s.Z)(Z,2),$=v[0],y=v[1],S=(0,l.useRef)(null),F=(0,c.D)(u.Ap,{onCompleted:function(n){d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430"),p()}}),O=(0,s.Z)(F,1)[0];var N=(0,l.useCallback)((function(){y(!1)}),[]);return(0,l.useEffect)((function(){var n=function(n){S.current&&!S.current.contains(n.target)&&N&&N()};return document.addEventListener("contextmenu",n,!0),document.addEventListener("click",n,!0),function(){document.removeEventListener("contextmenu",n,!0),document.addEventListener("click",n,!0)}}),[N]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"relative hover:cursor-pointer",draggable:!0,onDragEnter:function(n){n.stopPropagation()},onDragOver:function(n){n.stopPropagation()},onDropCapture:function(){return console.log("onFileDrop"),void n.stopPropagation();var n},onContextMenuCapture:function(n){n.preventDefault(),y(!0),g({x:n.pageX,y:n.pageY})},onClick:function(){return function(n){var e=n.id,s=n.name;i(e),a((function(n){return[].concat((0,t.Z)(n),[{id:e,name:s}])}))}({id:e.id,name:e.name})},children:(0,m.jsxs)("div",{className:"relative px-5 py-1 bg-white ring-1 ring-gray-900/5 rounded-lg leading-none flex items-top justify-start space-x-6",children:[(0,m.jsx)(f.iA,{className:"w-8 h-8 fill-emind my-auto"}),(0,m.jsx)("p",{className:"text-slate-800 text-sm w-full truncate my-auto",children:e.name})]})}),$&&(0,m.jsx)("div",{ref:S,className:"absolute z-10",style:{top:h.y,left:h.x},children:(0,m.jsxs)("div",{className:"bg-white w-60 border border-gray-300 rounded-lg flex flex-col text-sm py-4 px-2 text-gray-500 shadow-lg",children:[(0,m.jsxs)("div",{className:"flex py-1 px-2 rounded hover:bg-background hover:cursor-pointer",children:[(0,m.jsx)("div",{className:"w-8 ",children:(0,m.jsx)(o.Z,{twoToneColor:"#ffdb00"})}),(0,m.jsx)("div",{children:"\u0417\u0430\u0441\u0430\u0445"})]}),(0,m.jsxs)("div",{className:"flex py-1 px-2 rounded hover:bg-background hover:cursor-pointer",onClick:function(){return n=e.id,void x({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){O({variables:{id:n}})}});var n},children:[(0,m.jsx)("div",{className:"w-8",children:(0,m.jsx)(r.Z,{twoToneColor:"#eb2f96"},"delete")}),(0,m.jsx)("div",{children:"\u0423\u0441\u0442\u0433\u0430\u0445"})]})]})})]})}},40872:function(n,e,i){i(72791);var t=i(32385),s=i(92885),l=i(75033),o=i(80184),r=function(n){return(0,o.jsx)(t.Z,{overlay:n.menu,placement:n.placement,trigger:["click"],children:(0,o.jsx)("div",{className:"ellipsis-dropdown",children:(0,o.jsx)(l.Z,{})})})};r.defaultProps={trigger:"click",placement:"bottomRight",menu:(0,o.jsx)(s.Z,{})},e.Z=r},68470:function(n,e,i){i(72791);var t=i(80184),s=function(n){var e=n.children,i=n.className,s=n.alignItems,l=n.justifyContent,o=n.mobileFlex,r=n.flexDirection;return(0,t.jsx)("div",{className:"".concat(o?"d-flex":"d-md-flex"," ").concat(i," ").concat(r?"flex-"+r:""," ").concat(s?"align-items-"+s:""," ").concat(l?"justify-content-"+l:""),children:e})};s.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=s},25566:function(n,e,i){i.d(e,{$A:function(){return z},Ap:function(){return C},Ho:function(){return H},K_:function(){return V},ND:function(){return K},OV:function(){return R},S8:function(){return Y},U7:function(){return D},Vv:function(){return A},bb:function(){return k},ds:function(){return E},eX:function(){return B},iZ:function(){return M},j$:function(){return _},kZ:function(){return q},mq:function(){return P},oJ:function(){return X},q$:function(){return L},sZ:function(){return w},u$:function(){return T},vX:function(){return U},zN:function(){return I}});var t,s,l,o,r,a,d,c,u,f,m,x,p,b,j,h,g,Z,v,$,y,S,F,O=i(30168),N=i(27570),w=(0,N.Ps)(t||(t=(0,O.Z)(["\n    query allOnlineTypes {\n        allOnlineTypes {\n            id\n            name\n        }\n    }\n\n"]))),L=(0,N.Ps)(s||(s=(0,O.Z)(["\n    query allOnlineFiles ($folder: Int){\n        allOnlineFiles (folder: $folder){\n            id\n            file\n        }\n    }\n"]))),I=(0,N.Ps)(l||(l=(0,O.Z)(["\n    query allFolders ($folder: Int){\n        allFolders(folder: $folder){\n            id\n            name\n        }\n    }\n    "]))),k=(0,N.Ps)(o||(o=(0,O.Z)(["\n    mutation createOnlineFile($file: Upload!, $folder: Int) {\n        createOnlineFile(file: $file, folder: $folder) {\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),T=(0,N.Ps)(r||(r=(0,O.Z)(["\n    mutation createOnlineFileFolder($name: String, $subFolder: Int){\n        createOnlineFileFolder(name: $name, subFolder: $subFolder){\n            onlineFileFolder{\n                id\n            }\n        }\n    }\n"]))),P=(0,N.Ps)(a||(a=(0,O.Z)(["\n    mutation deleteOnlineFile ($id: ID) {\n        deleteOnlineFile (id: $id) {\n            onlineFile {\n                file\n            }\n        }\n    }\n"]))),C=(0,N.Ps)(d||(d=(0,O.Z)(["\n    mutation deleteOnlineFileFolder ($id: Int){\n        deleteOnlineFileFolder (id: $id){\n            onlineFileFolder {\n                name\n            }\n        }\n    }\n"]))),D=(0,N.Ps)(c||(c=(0,O.Z)(["\n    mutation createOnlineLesson ($content: String, $description: String, $schoolyear: Int, $status: String, $subject: Int) {\n        createOnlineLesson (content: $content, description: $description, schoolyear: $schoolyear, status: $status, subject: $subject) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),q=(0,N.Ps)(u||(u=(0,O.Z)(["\n    mutation updateOnlineLesson ($content: String, $description: String, $id: ID, $schoolyear: Int, $status: String, $subject: Int) {\n        updateOnlineLesson (content: $content, description: $description, id: $id, schoolyear: $schoolyear, status: $status, subject: $subject) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),A=(0,N.Ps)(f||(f=(0,O.Z)(['\n    query allOnlineLessons ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "online_lesson", modelName: "Online_lesson", filter: $filter) {\n            count\n        }\n        allOnlineLessons (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            schoolyear {\n                id\n                schoolyear\n            }\n            subject {\n                id\n                subject\n            }\n            description\n            content\n            status\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n        }\n    }\n']))),B=(0,N.Ps)(m||(m=(0,O.Z)(["\n    query onlineLessonById ($id: Int!) {\n        onlineLessonById (id: $id) {\n            id\n            schoolyear {\n                schoolyear\n                id\n            }\n            subject {\n                subject\n                id\n            }\n            description\n            content\n            status\n        }\n    }\n"]))),_=(0,N.Ps)(x||(x=(0,O.Z)(["\n    mutation deleteOnlineLesson ($id: ID) {\n        deleteOnlineLesson (id: $id) {\n            onlineLesson {\n                status\n            }\n        }\n    }\n"]))),E=(0,N.Ps)(p||(p=(0,O.Z)(["\n    query allOnlineSubByLesson ($onlineLesson: Int!) {\n        allOnlineSubByLesson (onlineLesson: $onlineLesson) {\n            id\n            title\n            description\n            content\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineSubFileSet {\n                id\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            status\n            createdAt\n        }\n    }\n"]))),U=(0,N.Ps)(b||(b=(0,O.Z)(["\n    mutation createOnlineSub ($content: String, $description: String, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        createOnlineSub (content: $content, description: $description, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),V=(0,N.Ps)(j||(j=(0,O.Z)(["\n    mutation updateOnlineSub ($content: String, $description: String, $id: ID, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        updateOnlineSub (content: $content, description: $description, id: $id, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),M=(0,N.Ps)(h||(h=(0,O.Z)(["\n    mutation deleteOnlineSub ($id: ID) {\n        deleteOnlineSub (id: $id) {\n            onlineSub {\n                title\n            }\n        }\n    }\n"]))),X=(0,N.Ps)(g||(g=(0,O.Z)(["\n    query onlineSubById ($id: Int!) {\n        onlineSubById (id: $id) {\n            title\n            description\n            content\n            onlineLesson {\n                subject {\n                    subject\n                }\n            }\n            onlineSubFileSet {\n                id\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineAttendanceSet {\n                student {\n                    id\n                    studentCode\n                    name\n                    familyName\n                }\n            }\n            status\n            createdAt\n        }\n    } \n"]))),H=(0,N.Ps)(Z||(Z=(0,O.Z)(['\n    mutation createOnlineStudent ($onlineLesson: Int, $studentCode: String = "", $section: Int = 0) {\n        createOnlineStudent (onlineLesson: $onlineLesson, studentCode: $studentCode, section: $section) {\n            onlineStudent {\n                id\n            }\n        }\n    }\n']))),K=(0,N.Ps)(v||(v=(0,O.Z)(["\n    mutation deleteOnlineStudent ($id: ID) {\n        deleteOnlineStudent (id: $id) {\n            onlineStudent {\n                student {\n                    name\n                }\n            }\n        }\n    }\n"]))),Y=(0,N.Ps)($||($=(0,O.Z)(["\n    query allOnlineStudentByLesson ($onlineLesson: Int!) {\n        allOnlineStudentByLesson (onlineLesson: $onlineLesson) {\n            id\n            student {\n                id\n                familyName\n                name\n                studentCode\n            }\n        }\n    }\n"]))),z=((0,N.Ps)(y||(y=(0,O.Z)(["\n    query allOnlineSubFiles ($onlineSub: Int) {\n        allOnlineSubFiles (onlineSub: $onlineSub) {\n            id\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),(0,N.Ps)(S||(S=(0,O.Z)(["\n    mutation createOnlineSubFile ($onlineFile: Int, $onlineSub: Int) {\n        createOnlineSubFile (onlineFile: $onlineFile, onlineSub: $onlineSub) {\n            onlineSubFile {\n                id\n            }\n        }\n    }\n"])))),R=(0,N.Ps)(F||(F=(0,O.Z)(["\n    mutation deleteOnlineSubFile ($id: Int) {\n        deleteOnlineSubFile (id: $id) {\n            onlineSubFile {\n                onlineSub {\n                    id\n                }\n            }\n        }\n    }\n"])))},26214:function(n,e,i){i.r(e),i.d(e,{default:function(){return X}});var t=i(72791),s=i(59288),l=i(96578),o=i(64880),r=i(25566),a=i(59305),d=i(38937),c=i(29439),u=i(74439),f=i(20003),m=i(50419),x=i(87309),p=i(36795),b=i(82464),j=i(53834),h=i(31549),g=i(84376),Z=i(72426),v=i.n(Z),$=i(91523),y=i(68470),S=i(93433),F=i(73332),O=i(22949),N=i(49389),w=i(37083),L=i(66106),I=i(30914),k=(i(20886),i(82630)),T=i(74213),P=i(2703),C=i(763),D=i(80184);var q=function(n){var e=F.Z.useForm(),i=(0,c.Z)(e,1)[0],s=O.Z.Option,o=N.Z.TextArea,u=(0,l.a)(r.sZ).data,f=(0,t.useState)(0),x=(0,c.Z)(f,2),p=x[0],b=x[1],j=(0,t.useState)([]),h=(0,c.Z)(j,2),Z=h[0],v=h[1],$=(0,t.useState)([]),y=(0,c.Z)($,2),q=y[0],A=y[1],B=(0,t.useState)([{id:0,name:"\u04ae\u043d\u0434\u0441\u044d\u043d \u0445\u0430\u0432\u0442\u0430\u0441"}]),_=(0,c.Z)(B,2),E=_[0],U=_[1],V=(0,l.a)(r.zN,{onCompleted:function(n){v(n.allFolders)},variables:{folder:p}}).loading,M=(0,g.D)(r.$A),X=(0,c.Z)(M,1)[0],H=(0,g.D)(r.vX,{refetchQueries:[{query:r.ds,variables:{onlineLesson:n.lesson}}],onCompleted:function(e){m.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),i.resetFields(),n.setIsModalVisible(!1),q.map((function(n){X({variables:{onlineSub:e.createOnlineSub.onlineSub.id,onlineFile:n.id}})}))}}),K=(0,c.Z)(H,2),Y=K[0],z=K[1].loading,R=(0,g.D)(r.OV),Q=(0,c.Z)(R,1)[0],J=(0,l.a)(r.q$,{variables:{folder:p}}),G=J.data,W=J.loading,nn=(0,g.D)(r.K_,{refetchQueries:[{query:r.ds,variables:{onlineLesson:n.lesson}}],onCompleted:function(e){m.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),i.resetFields(),n.setIsModalVisible(!1),q.map((function(i){var t=n.editData.onlineSubFileSet.find((function(n){return n.onlineFile.id===i.id}));t||(console.log(t),X({variables:{onlineSub:e.updateOnlineSub.onlineSub.id,onlineFile:i.id}}))}))}}),en=(0,c.Z)(nn,2),tn=en[0],sn=en[1].loading;(0,t.useEffect)((function(){if(A([]),"edit"===n.formType){var e={content:n.editData.content,description:n.editData.description,status:n.editData.status,title:n.editData.title,onlineType:n.editData.onlineType.id};n.editData.onlineSubFileSet.map((function(n){return A((function(e){return[].concat((0,S.Z)(e),[n.onlineFile])}))})),i.setFieldsValue(e)}else"create"===n.formType&&i.resetFields()}),[i,n]);var ln=function(n){switch(n.split(".").pop()){case"jpg":case"jpeg":case"webp":case"svg":case"png":return a._O+n;case"mp3":case"m4a":case"flac":return"".concat(window.location.origin,"/img/file/audio-file-attachment-icon.png");case"mp4":return"".concat(window.location.origin,"/img/file/video-file-attachment-icon.png");case"pdf":return"".concat(window.location.origin,"/img/file/text-file-attachment-icon.png");default:return"".concat(window.location.origin,"/img/file/file-icon.png")}};function on(e){var i=(0,C.find)(q,(function(n){return n.id===e.id}));if(i){if(A((function(n){return n.filter((function(n){return n.id!==i.id}))})),"edit"===n.formType){var t=n.editData.onlineSubFileSet.find((function(n){return n.onlineFile.id===i.id}));t&&Q({variables:{id:t.id}})}}else A((function(n){return[].concat((0,S.Z)(n),[e])}))}return(0,D.jsx)(w.Z,{spinning:z||sn,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,D.jsx)(F.Z,{id:"SubLessonForm",layout:"vertical",form:i,name:"lesson",onFinish:function(e){"edit"===n.formType?(e.onlineLesson=n.lesson,e.id=n.editData.id,tn({variables:e})):(e.onlineLesson=n.lesson,Y({variables:e}))},children:(0,D.jsxs)(L.Z,{gutter:[24,24],children:[(0,D.jsxs)(I.Z,{xs:24,xl:12,children:[(0,D.jsx)(F.Z.Item,{name:"title",label:(0,D.jsx)(k.Z,{id:"title"}),rules:[{required:!0,message:(0,D.jsx)(k.Z,{id:"form.required"})}],children:(0,D.jsx)(N.Z,{})}),(0,D.jsx)(F.Z.Item,{name:"onlineType",label:(0,D.jsx)(k.Z,{id:"onlineType"}),rules:[{required:!0,message:"\u0425\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439"}],children:(0,D.jsx)(O.Z,{children:null===u||void 0===u?void 0:u.allOnlineTypes.map((function(n,e){return(0,D.jsx)(s,{value:n.id,children:n.name},e)}))})}),(0,D.jsx)(F.Z.Item,{name:"description",label:(0,D.jsx)(k.Z,{id:"description"}),rules:[{required:!0,message:(0,D.jsx)(k.Z,{id:"form.required"})}],children:(0,D.jsx)(o,{rows:4})}),(0,D.jsx)(F.Z.Item,{name:"content",label:(0,D.jsx)(k.Z,{id:"content"}),rules:[{required:!0,message:(0,D.jsx)(k.Z,{id:"form.required"})}],children:(0,D.jsx)(o,{rows:4})}),(0,D.jsx)(F.Z.Item,{name:"status",label:(0,D.jsx)(k.Z,{id:"status"}),rules:[{required:!0,message:(0,D.jsx)(k.Z,{id:"form.required"})}],children:(0,D.jsxs)(O.Z,{children:[(0,D.jsx)(s,{value:"OPEN",children:(0,D.jsx)(k.Z,{id:"status.open"})},0),(0,D.jsx)(s,{value:"CLOSED",children:(0,D.jsx)(k.Z,{id:"status.closed"})},1)]})})]}),(0,D.jsxs)(I.Z,{xs:24,xl:12,children:[(0,D.jsx)("nav",{"aria-label":"breadcrumb",className:"w-full px-4",children:(0,D.jsx)("ol",{className:"flex h-8 space-x-2",children:E.map((function(n,e){return(0,D.jsxs)("li",{className:"flex items-center space-x-1",children:[0!==e&&(0,D.jsx)("span",{className:" text-emind",children:"/"}),(0,D.jsx)("a",{onClick:function(){return p!==n.id&&function(n){var e=n.key,i=n.id;U(0===e?[{id:0,name:"\u04ae\u043d\u0434\u0441\u044d\u043d \u0445\u0430\u0432\u0442\u0430\u0441"}]:E.slice(0,e+1)),b(i)}({key:e,id:n.id})},rel:"noopener noreferrer",className:(0,P.AK)(p===n.id&&"font-bold","flex items-center px-1 capitalize hover:underline text-emind"),children:n.name})]},e)}))})}),(0,D.jsx)("div",{className:"grid grid-cols-3 gap-4",children:V?(0,D.jsx)(d.Z,{}):Z.map((function(n,e){return(0,D.jsx)(T.Z,{data:n,setFolder:b,setFolderHistory:U},e)}))}),(0,D.jsx)("div",{className:"mt-4 grid grid-cols-4 gap-4",children:W?(0,D.jsx)(d.Z,{}):null===G||void 0===G?void 0:G.allOnlineFiles.map((function(n,e){return(0,D.jsxs)("div",{onClick:function(){return on(n)},className:(0,P.AK)(200===(i=n.id,(0,C.find)(q,(function(n){return n.id===i}))?200:404)&&"rounded-2 border-2 border-green-500","w-full p-2 hover:cursor-pointer "),children:[(0,D.jsx)("img",{className:"h-24 w-auto mx-auto text-purple-600",src:ln(n.file)}),(0,D.jsx)("p",{className:"mt-1 w-full text-xs",children:n.file})]},e);var i}))}),(0,D.jsx)("p",{className:"px-4 text-emind font-bold",children:(0,D.jsx)(k.Z,{id:"selected-online-file"})}),(0,D.jsx)("div",{className:"mt-4 grid grid-cols-5 gap-4",children:q.map((function(n,e){return(0,D.jsxs)("div",{onClick:function(){return on(n)},className:"w-full hover:cursor-pointer",children:[(0,D.jsx)("img",{className:"h-24 w-auto mx-auto text-purple-600",src:ln(n.file)}),(0,D.jsx)("p",{className:"mt-1 w-full text-xs",children:n.file})]},e)}))})]})]})})})},A=i(79335),B=i(40872),_=i(39392),E=i(74508),U=u.Z.TabPane,V=f.Z.confirm,M=function(n){var e=(0,o.k6)(),i=(0,t.useState)(!1),s=(0,c.Z)(i,2),Z=s[0],S=s[1],F=(0,t.useState)([]),O=(0,c.Z)(F,2),N=O[0],w=O[1],L=(0,t.useState)(""),I=(0,c.Z)(L,2),T=I[0],P=I[1],C=(0,l.a)(r.eX,{variables:{id:n.lesson}}),M=C.loading,X=(C.data,(0,l.a)(r.ds,{variables:{onlineLesson:n.lesson}})),H=(X.loading,X.data),K=X.refetch,Y=(0,l.a)(r.sZ),z=Y.data,R=Y.loading,Q=function(n){w(n),P("edit"),S(!0)},J=(0,g.D)(r.iZ,{onCompleted:function(n){K(),m.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),G=(0,c.Z)(J,1)[0];function W(n){V({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){G({variables:{id:n}})}})}var nn=function(e){return(0,D.jsxs)("div",{className:"w-full flex flex-col space-y-2 bg-background p-2 rounded-2",onClick:function(n){return n&&n.stopPropagation&&n.stopPropagation()},children:[!0===n.permissions.edit&&(0,D.jsx)(x.Z,{onClick:function(){return Q(e)},children:(0,D.jsx)(p.Z,{twoToneColor:"#ffdb00"})}),!0===n.permissions.destroy&&(0,D.jsx)(x.Z,{onClick:function(){return W(e.id)},children:(0,D.jsx)(b.Z,{twoToneColor:"#f42f2f"})})]})};return console.log(H),M?(0,D.jsx)(d.Z,{cover:"content"}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(y.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[(0,D.jsx)(y.Z,{mobileFlex:!1,children:(0,D.jsx)("div",{className:"text-right",children:(0,D.jsxs)(x.Z,{onClick:function(){return e.goBack()},type:"default",icon:(0,D.jsx)(j.Z,{}),block:!0,children:[" ",(0,D.jsx)(k.Z,{id:"back"})]})})}),!0===n.permissions.create&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{forceRender:!0,title:"edit"===T?(0,D.jsx)(k.Z,{id:"edit"}):(0,D.jsx)(k.Z,{id:"add_new"}),visible:Z,okText:(0,D.jsx)(k.Z,{id:"main.okText"}),cancelText:(0,D.jsx)(k.Z,{id:"main.cancelText"}),width:"80vw",onCancel:function(){S(!1)},okButtonProps:{form:"SubLessonForm",key:"submit",htmlType:"submit"},children:(0,D.jsx)(q,{lesson:n.lesson,editData:N,formType:T,setIsModalVisible:S})}),(0,D.jsx)("div",{className:"text-right",children:(0,D.jsxs)(x.Z,{onClick:function(){P("create"),S(!0)},type:"primary",icon:(0,D.jsx)(h.Z,{}),block:!0,children:[" ",(0,D.jsx)(k.Z,{id:"add_new"})]})})]})]}),R?(0,D.jsx)(d.Z,{cover:"content"}):(0,D.jsx)(u.Z,{defaultActiveKey:0,children:z.allOnlineTypes.map((function(e,i){return(0,D.jsx)(U,{tab:e.name,children:(0,D.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 w-full mt-4",children:null===H||void 0===H?void 0:H.allOnlineSubByLesson.filter((function(n){return n.onlineType.name===e.name})).map((function(e,i){var t;return(0,D.jsxs)($.rU,{to:"".concat(a.sH,"/online-lesson/").concat(n.lesson,"/").concat(e.id),className:"border-regular border-1 pt-[20px] px-[25px] pb-[25px] bg-white rounded-10 bg-cover bg-center",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between",children:[(0,D.jsx)("h4",{className:"text-[16px] font-medium items-center mb-[14px] flex gap-[10px]",children:(0,D.jsx)("span",{children:e.title})}),(0,D.jsx)(B.Z,{menu:nn(e)})]}),(0,D.jsx)("div",{children:(0,D.jsx)(A.ZP,{style:{height:200},children:(0,D.jsx)("p",{className:"mb-[20px] leading-[1.786] whitespace-pre-line",children:e.description})})}),(0,D.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,D.jsxs)("div",{className:"flex items-center gap-[15px]",children:[(0,D.jsx)("img",{className:"w-[30px] h-[30px] rounded-full",src:_,alt:""}),(0,D.jsx)("span",{className:"text-[15px] font-medium ",children:null===(t=e.createUserid.teacher)||void 0===t?void 0:t.name})]}),(0,D.jsxs)("div",{className:"flex items-center gap-[15px]",children:[(0,D.jsx)(E.Z,{className:"h-7 text-emind"}),(0,D.jsx)("p",{children:v()(e.createdAt).format("YYYY-MM-DD")})]})]})]},i)}))})},i)}))})]})},X=function(n){var e=(0,o.k6)(),i=(0,o.UO)(),t=(0,l.a)(r.eX,{variables:{id:i.lesson}}),c=t.loading,u=t.data,f={create:(0,s.C)("add_online_sub"),edit:(0,s.C)("change_online_sub"),destroy:(0,s.C)("delete_online_sub")};return c?(0,D.jsx)(d.Z,{cover:"content"}):!1===c&&!1===(void 0!==u&&null!==u.onlineLessonById)?e.push("".concat(a.sH,"/online-lesson")):(0,D.jsx)(M,{title:n.title,permissions:f,lesson:null===u||void 0===u?void 0:u.onlineLessonById.id})}}}]);
//# sourceMappingURL=6214.a41f2a23.chunk.js.map